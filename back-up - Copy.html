<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" /><meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Gas Laws Game</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;600&display=swap');

    html, body { margin:0; padding:0; height:100%; font-family:'Montserrat',sans-serif; background:#1a0a3a; overflow:hidden; color:white; }
    #particleCanvas { position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:0;pointer-events:none; }

    #mainMenu {
      position:relative; z-index:1; height:100vh;
      display:flex; flex-direction:column; justify-content:center; align-items:center;
    }
    #mainMenu h1 { font-weight:600; font-size:4rem; margin-bottom:0.3em; letter-spacing:5px; color:#ff5a5f; }
    #mainMenu h3 { font-weight:300; font-size:1.2rem; margin-bottom:2em; color:#ff7a7f; }
    #mainMenu button {
      background:#ff5a5f;
      border:none;
      border-radius:50px;
      color:white;
      font-size:1.5rem;
      padding:16px 80px;
      margin:12px 0;
      cursor:pointer;
      box-shadow:0 4px 8px rgba(255,90,95,0.4);
      transition:background-color .3s;
    }
    #mainMenu button:hover { background:#ff7a7f; }

    .gameMode {
      display:none;
      position:relative;
      z-index:2;
      height:100vh;
      padding:20px;
      background:#111;
      overflow:auto;
      box-sizing:border-box;
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    /* Boyle container bigger and spaced from return button */
    #boyle .container {
      background: #222;
      border-radius: 12px;
      padding: 20px;
      width: 350px;
      height: 450px; /* increased height */
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      margin-bottom: 20px; /* spacing below container so return button won't overlap */
    }

    .return-btn {
      margin-top: 0; /* remove default margin */
      padding: 10px 20px;
      font-size: 16px;
      background: #ff5a5f;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      align-self: center;
      width: 140px;
      z-index: 10;
    }

    .slider-container { margin: 15px 0; width: 300px; color:#ff5a5f; }
    .slider-container label { display: block; margin-bottom: 6px; font-weight: 600; }
    input[type=range] { width: 100%; }

    /* Balloon container styling */
    .balloon-container {
      position: relative;
      width: 250px;
      height: 250px;
      margin: 10px auto;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .balloon {
      border-radius: 50% / 60%;
      transition: width 0.3s, height 0.3s, background-color 0.3s;
      position: relative;
      z-index: 10;
    }
    .molecule-teller-bg, .molecule-counter {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      text-shadow: 0 0 10px rgba(255,255,255,0.7);
      user-select: none;
      font-weight: 900;
      z-index: 1;
    }
    .molecule-teller-bg {
      font-size: 180px;
      font-weight: 900;
      opacity: 0.1;
      letter-spacing: 20px;
    }
    .molecule-counter {
      font-size: 48px;
      font-weight: 600;
      top: 60px;
    }

    /* Charles balloon - 75% transparent */
    #charlesBalloon {
      background-color: rgba(255, 90, 95, 0.25) !important; /* 75% transparent */
      box-shadow: 0 0 15px rgba(255, 90, 95, 0.4);
    }

    /* Avogadro balloon - 75% transparent */
    #avogadroBalloon {
      background-color: rgba(255, 90, 95, 0.25) !important;
    }

    /* Avogadro button above container with 1cm margin, return button below container with 1cm margin */
    #avogadro .container {
      position: relative;
      background: #222;
      border-radius: 12px;
      padding: 20px;
      width: 350px;
      height: 300px;
      margin-bottom: 10px; /* small margin bottom for spacing return button */
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    #avogadroIncreaseBtn {
      position: relative;
      bottom: 10px; /* place button above container by 1cm approx */
      margin-bottom: 1cm;
      width: auto;
      font-size: 1.3rem;
      background:#ff5a5f;
      border:none;
      border-radius:30px;
      color:white;
      padding:12px 30px;
      cursor:pointer;
      box-shadow:0 3px 7px rgba(255,90,95,0.5);
      transition:background-color .3s;
      user-select: none;
    }
    #avogadroIncreaseBtn:hover { background:#ff7a7f; }

    #avogadro .return-btn {
      margin-top: 1cm;
      width: 140px;
    }

    /* Member Game styles */
    #memberGame {
      display:none;
      height:100vh;
      width:100vw;
      background:#111;
      color:#ff5a5f;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      box-sizing: border-box;
    }
    #memberGame .box {
      width: 300px;
      height: 300px;
      border: 2px solid #ff5a5f;
      position: relative;
      display: flex;
      justify-content: space-between;
      align-items: stretch;
      margin-bottom: 20px;
    }
    /* 6 vertical lines inside box */
    #memberGame .box div.line {
      width: 2px;
      background: #ff5a5f;
      margin: 0 6px;
    }
    /* The lines container is flex and evenly spaced */
    #memberGame .box div.line:first-child {
      margin-left: 10px;
    }
    #memberGame .box div.line:last-child {
      margin-right: 10px;
    }

  </style>
</head>
<body>

  <canvas id="particleCanvas"></canvas>

  <!-- MAIN MENU -->
  <div id="mainMenu">
    <h1>GAS LAWS GAME</h1>
    <h3>Choose your mode</h3>
    <button onclick="showMode('boyle')">Boyle's Law</button>
    <button onclick="showMode('charles')">Charles' Law</button>
    <button onclick="showMode('gayLussac')">Gay‑Lussac's Law</button>
    <button onclick="showMode('avogadro')">Avogadro's Law</button>
    <button id="memberBtn">Member</button>
  </div>

  <!-- BOYLE -->
  <div id="boyle" class="gameMode">
    <div class="container">
      <h2>Boyle's Law</h2>
      <div class="slider-container">
        <label>Mass: <span id="boyleMassVal">5</span></label>
        <input type="range" id="boyleMass" min="1" max="20" step="1" value="5">
      </div>
      <div class="slider-container">
        <label>Temperature (°C): <span id="boyleTempVal">20</span></label>
        <input type="range" id="boyleTemp" min="0" max="100" value="20">
      </div>
      <canvas id="boyleCanvas" width="250" height="250" style="background:#222; border-radius:12px;"></canvas>
    </div>
    <button class="return-btn" onclick="returnToMenu()">Return to Menu</button>
  </div>

  <!-- CHARLES -->
  <div id="charles" class="gameMode">
    <div class="container" style="position: relative;">
      <h2>Charles' Law</h2>
      <div class="balloon-container" style="justify-content:center; align-items:center; height:180px;">
        <div id="charlesBalloon" class="balloon" style="width:50px; height:75px;"></div>
        <div id="charlesMoleculeBg" class="molecule-teller-bg">0</div>
      </div>
      <div class="slider-container">
        <label>Temperature (°C): <span id="charlesTempVal">0</span></label>
        <input type="range" id="charlesTemp" min="0" max="100" value="0">
      </div>
    </div>
    <button class="return-btn" onclick="returnToMenu()">Return to Menu</button>
  </div>

  <!-- GAY-LUSSAC -->
  <div id="gayLussac" class="gameMode">
    <div class="container" style="position: relative;">
      <h2>Gay‑Lussac's Law</h2>
      <div class="balloon-container" style="justify-content:center; align-items:center; height:180px;">
        <div id="gayBalloon" class="balloon" style="width:50px; height:75px;"></div>
        <div id="gayMoleculeBg" class="molecule-teller-bg">0</div>
      </div>
      <div class="slider-container">
        <label>Temperature (°C): <span id="gayTempVal">0</span></label>
        <input type="range" id="gayTemp" min="0" max="100" value="0">
      </div>
    </div>
    <button class="return-btn" onclick="returnToMenu()">Return to Menu</button>
  </div>

  <!-- AVOGADRO -->
  <div id="avogadro" class="gameMode">
    <button id="avogadroIncreaseBtn">Increase Molecules</button>
    <div class="container">
      <h2>Avogadro's Law</h2>
      <div class="balloon-container" style="justify-content:center; align-items:center; height:180px;">
        <div id="avogadroBalloon" class="balloon" style="width:50px; height:75px;"></div>
        <div id="avogadroMoleculeBg" class="molecule-teller-bg">0</div>
      </div>
    </div>
    <button class="return-btn" onclick="returnToMenu()">Return to Menu</button>
  </div>

  <!-- MEMBER -->
  <div id="memberGame">
    <h2>Member Game</h2>
    <div class="box">
      <div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div>
    </div>
    <button class="return-btn" onclick="returnToMenu()">Return to Menu</button>
  </div>

<script>
  // Show/hide game modes
  function showMode(mode) {
    document.getElementById('mainMenu').style.display = 'none';
    ['boyle', 'charles', 'gayLussac', 'avogadro', 'memberGame'].forEach(id => {
      document.getElementById(id).style.display = (id === mode) ? 'flex' : 'none';
    });
  }

  // Return to main menu
  function returnToMenu() {
    ['boyle', 'charles', 'gayLussac', 'avogadro', 'memberGame'].forEach(id => {
      document.getElementById(id).style.display = 'none';
    });
    document.getElementById('mainMenu').style.display = 'flex';
  }

  // Boyle's Law sliders update
  const boyleMass = document.getElementById('boyleMass');
  const boyleMassVal = document.getElementById('boyleMassVal');
  const boyleTemp = document.getElementById('boyleTemp');
  const boyleTempVal = document.getElementById('boyleTempVal');
  boyleMass.addEventListener('input', () => boyleMassVal.textContent = boyleMass.value);
  boyleTemp.addEventListener('input', () => boyleTempVal.textContent = boyleTemp.value);

  // Charles slider update
  const charlesTemp = document.getElementById('charlesTemp');
  const charlesTempVal = document.getElementById('charlesTempVal');
  charlesTemp.addEventListener('input', () => charlesTempVal.textContent = charlesTemp.value);

  // Gay-Lussac slider update
  const gayTemp = document.getElementById('gayTemp');
  const gayTempVal = document.getElementById('gayTempVal');
  gayTemp.addEventListener('input', () => gayTempVal.textContent = gayTemp.value);

  // Avogadro slider and button
  let avogadroCount = 0;
  const avogadroMoleculeBg = document.getElementById('avogadroMoleculeBg');
  const avogadroBalloon = document.getElementById('avogadroBalloon');
  const avogadroIncreaseBtn = document.getElementById('avogadroIncreaseBtn');
  avogadroIncreaseBtn.addEventListener('click', () => {
    avogadroCount++;
    avogadroMoleculeBg.textContent = avogadroCount;
    const newSize = 50 + avogadroCount * 5;
    avogadroBalloon.style.width = `${newSize}px`;
    avogadroBalloon.style.height = `${newSize * 1.5}px`;
    avogadroBalloon.style.backgroundColor = `rgba(255, 90, 95, 0.25)`; // 75% transparent pink-red
  });

  // Main canvas for particle falling (atom)
  const canvas = document.getElementById('particleCanvas');
  const ctx = canvas.getContext('2d');
  let width, height;

  function resize() {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
  }
  window.addEventListener('resize', resize);
  resize();

  // Atom falling particle class (simplified, pink-red, 3D-ish shading)
  class AtomParticle {
    constructor() {
      this.x = Math.random() * width;
      this.y = Math.random() * -height; // start above screen
      this.size = 20 + Math.random() * 10; // 20-30 px size
      this.speed = 0.5 + Math.random() * 0.3; // slower fall
      this.angle = Math.random() * Math.PI * 2;
      this.spinSpeed = 0.01 + Math.random() * 0.01;
    }

    update() {
      this.y += this.speed;
      this.angle += this.spinSpeed;
      if (this.y > height + this.size) {
        this.y = Math.random() * -height;
        this.x = Math.random() * width;
      }
    }

    draw(ctx) {
      const cx = this.x;
      const cy = this.y;
      const r = this.size / 2;

      // Draw atom nucleus (circle with radial gradient pink to red)
      const grad = ctx.createRadialGradient(cx, cy, r * 0.1, cx, cy, r);
      grad.addColorStop(0, '#ff5a5f');
      grad.addColorStop(1, '#b30010');

      ctx.fillStyle = grad;
      ctx.beginPath();
      ctx.arc(cx, cy, r * 0.6, 0, Math.PI * 2);
      ctx.fill();

      // Draw simplified 3D orbit rings with pink-red lines, rotated by this.angle
      ctx.strokeStyle = '#ff7a7f';
      ctx.lineWidth = 2;
      ctx.beginPath();

      // Three elliptical orbits crossing roughly perpendicular
      // We'll simulate perspective by adjusting ellipse parameters dynamically with angle

      // Orbit 1 (horizontal ellipse)
      ctx.ellipse(cx, cy, r, r * 0.3, this.angle, 0, Math.PI * 2);
      ctx.stroke();

      // Orbit 2 (vertical ellipse)
      ctx.beginPath();
      ctx.ellipse(cx, cy, r, r * 0.3, this.angle + Math.PI / 2, 0, Math.PI * 2);
      ctx.stroke();

      // Orbit 3 (diagonal ellipse)
      ctx.beginPath();
      ctx.ellipse(cx, cy, r * 0.8, r * 0.25, this.angle + Math.PI / 4, 0, Math.PI * 2);
      ctx.stroke();
    }
  }

  const atoms = [];
  for(let i = 0; i < 15; i++) {
    atoms.push(new AtomParticle());
  }

  function animate() {
    ctx.clearRect(0, 0, width, height);
    atoms.forEach(atom => {
      atom.update();
      atom.draw(ctx);
    });
    requestAnimationFrame(animate);
  }
  animate();

  // Extra: member button show memberGame mode
  document.getElementById('memberBtn').addEventListener('click', () => showMode('memberGame'));
</script>

</body>
</html>
