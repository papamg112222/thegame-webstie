<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gas Laws Simulator</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      text-align: center;
      background: #777;
      color: white;
    }
    h1 {
      margin-top: 20px;
    }
    .mode-container {
      display: none;
      padding: 20px;
      height: 100vh;
      overflow: hidden;
    }
    .active {
      display: block;
    }
    .control {
      margin: 10px 0;
    }
    label {
      margin-right: 8px;
    }
    .dot {
      position: absolute;
      width: 8px;
      height: 8px;
      background: #33ccff;
      border-radius: 50%;
    }
    #container {
      position: relative;
      margin: 20px auto;
      width: 600px;
      height: 400px;
      background: #333;
      border: 2px solid #555;
      overflow: hidden;
    }
  </style>
</head>
<body>

  <h1>Gas Laws Simulator</h1>

  <div>
    <button onclick="showMode('boyle')">Boyle's Law</button>
    <button onclick="showMode('charles')">Charles's Law</button>
    <button onclick="showMode('avogadro')">Avogadro's Law</button>
  </div>

  <!-- Boyle's Law Mode -->
  <div id="boyle" class="mode-container">
    <h2>Boyle's Law</h2>
    <div id="container"></div>
    <div class="control">
      <label for="massSlider">Mass:</label>
      <input type="range" id="massSlider" min="10" max="200" value="100">
    </div>
    <div class="control">
      <label for="tempSlider">Temperature:</label>
      <input type="range" id="tempSlider" min="0" max="100" value="50">
    </div>
  </div>

  <!-- Charles's Law Mode -->
  <div id="charles" class="mode-container">
    <h2>Charles's Law</h2>
    <p>Content for Charles's Law goes here.</p>
  </div>

  <!-- Avogadro's Law Mode -->
  <div id="avogadro" class="mode-container">
    <h2>Avogadro's Law</h2>
    <p>Content for Avogadro's Law goes here.</p>
  </div>

  <script>
    function showMode(mode) {
      // Hide all modes
      const modes = document.querySelectorAll('.mode-container');
      modes.forEach(m => m.classList.remove('active'));

      // Show the selected mode
      const activeMode = document.getElementById(mode);
      activeMode.classList.add('active');

      // Initialize the mode if it's Boyle's Law
      if (mode === 'boyle') {
        initBoyleMode();
      }
    }

    function initBoyleMode() {
      const container = document.getElementById('container');
      const massSlider = document.getElementById('massSlider');
      const tempSlider = document.getElementById('tempSlider');

      let dots = [];
      let currentCount = 0;
      let speedFactor = tempSlider.value / 40; // faster baseline
      const maxCount = 100;

      function spawnDot() {
        const dotEl = document.createElement('div');
        dotEl.className = 'dot';
        container.appendChild(dotEl);
        const dot = {
          el: dotEl,
          x: Math.random() * (container.clientWidth - 8),
          y: Math.random() * (container.clientHeight - 8),
          vx: (Math.random() - 0.5) * speedFactor * 4,
          vy: (Math.random() - 0.5) * speedFactor * 4
        };
        dots.push(dot);
        currentCount++;
      }

      function removeDot() {
        const dot = dots.pop();
        if (dot) {
          container.removeChild(dot.el);
          currentCount--;
        }
      }

      massSlider.addEventListener('input', () => {
        const desired = Math.min(Math.floor(massSlider.value / 10), maxCount);
        if (desired > currentCount) {
          while (currentCount < desired) spawnDot();
        } else if (desired < currentCount) {
          while (currentCount > desired) removeDot();
        }
      });

      tempSlider.addEventListener('input', () => {
        speedFactor = tempSlider.value / 40;
        dots.forEach(d => {
          d.vx = (Math.random() - 0.5) * speedFactor * 4;
          d.vy = (Math.random() - 0.5) * speedFactor * 4;
        });
      });

      function animate() {
        const cw = container.clientWidth - 8;
        const ch = container.clientHeight - 8;
        dots.forEach(d => {
          d.x += d.vx;
          d.y += d.vy;
          if (d.x < 0 || d.x > cw) d.vx *= -1;
          if (d.y < 0 || d.y > ch) d.vy *= -1;
          d.el.style.transform = `translate(${d.x}px, ${d.y}px)`;
        });
        requestAnimationFrame(animate);
      }

      // Initialize with starting mass
      massSlider.dispatchEvent(new Event('input'));
      animate();
    }

    // Default to Boyle's Law mode
    showMode('boyle');
  </script>

</body>
</html>
