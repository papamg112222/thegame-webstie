<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HUNJI KAMADA: The Runner</title>
    <style>
        /* --- GLOBAL STYLES --- */
        body {
            margin: 0;
            overflow: hidden;
            background-color: #000;
            font-family: 'Courier New', Courier, monospace;
            color: white;
            user-select: none; /* Prevent text selection */
        }

        /* --- THE CANVAS (Background Animation) --- */
        canvas {
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 0;
        }

        /* --- UI LAYERS --- */
        .ui-layer {
            position: absolute;
            width: 100%;
            height: 100%;
            z-index: 10;
            pointer-events: none; /* Let clicks pass through to buttons */
        }

        /* MIDDLE LEFT: THE NAME */
        #hero-name {
            position: absolute;
            top: 50%;
            left: 10%; /* Middle Left area */
            transform: translateY(-50%);
            font-size: 4rem;
            font-weight: 900;
            text-shadow: 4px 4px 0px #000;
            letter-spacing: 5px;
            color: #fff;
            pointer-events: auto;
        }

        /* MIDDLE RIGHT: THE BUTTONS */
        #menu-buttons {
            position: absolute;
            top: 50%;
            right: 15%; /* Middle Right area */
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 25px;
            pointer-events: auto;
        }

        button {
            background: rgba(0, 0, 0, 0.6);
            border: 3px solid #fff;
            color: #fff;
            font-family: 'Courier New', Courier, monospace;
            font-size: 1.5rem;
            font-weight: bold;
            padding: 15px 40px;
            cursor: pointer;
            transition: 0.3s;
            text-transform: uppercase;
            box-shadow: 5px 5px 0px #333;
        }

        button:hover {
            background: #fff;
            color: #000;
            transform: translate(-2px, -2px);
            box-shadow: 7px 7px 0px #555;
        }

        button:active {
            transform: translate(2px, 2px);
            box-shadow: 1px 1px 0px #333;
        }

        /* --- SETTINGS MENU --- */
        #settings-menu {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 500px;
            background: rgba(10, 10, 10, 0.95);
            border: 4px solid white;
            padding: 40px;
            z-index: 20;
            pointer-events: auto;
            text-align: center;
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
        }

        .slider-group {
            margin-bottom: 30px;
            text-align: left;
        }

        .slider-group label {
            font-size: 1.2rem;
            display: block;
            margin-bottom: 10px;
        }

        input[type="range"] {
            width: 100%;
            height: 10px;
            background: #333;
            outline: none;
            cursor: pointer;
        }

        /* --- CREDITS SCREEN --- */
        #credits-screen {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: black;
            z-index: 30;
            pointer-events: auto;
            text-align: center;
            display: flex; /* Flex but hidden via JS toggle */
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        #credits-content {
            animation: fadeUp 2s ease-out;
        }

        /* --- MOVIE OVERLAY --- */
        #movie-overlay {
            display: none;
            position: absolute;
            bottom: 50px;
            width: 100%;
            text-align: center;
            z-index: 5;
            text-shadow: 2px 2px 4px #000;
        }
        
        #movie-subtitles {
            font-size: 2rem;
            background: rgba(0,0,0,0.5);
            padding: 10px;
            display: inline-block;
        }

        /* UTILS */
        .hidden { display: none !important; }
        
        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

    <canvas id="gameCanvas"></canvas>

    <div id="main-menu" class="ui-layer">
        <div id="hero-name">HUNJI KAMADA</div>
        
        <div id="menu-buttons">
            <button onclick="startMovie()">START MOVIE</button>
            <button onclick="openSettings()">SETTINGS</button>
            <button onclick="openCredits()">CREDITS</button>
        </div>
    </div>

    <div id="settings-menu" class="hidden">
        <h2 style="margin-top:0; font-size: 2rem; border-bottom: 2px solid #fff; padding-bottom:10px;">SETTINGS</h2>
        
        <div class="slider-group">
            <label>QUALITY: <span id="qual-val">100%</span></label>
            <input type="range" min="1" max="100" value="100" oninput="updateSettings('qual', this.value)">
        </div>

        <div class="slider-group">
            <label>SOUND: <span id="snd-val">50%</span></label>
            <input type="range" min="0" max="100" value="50" oninput="updateSettings('snd', this.value)">
        </div>

        <button onclick="closeSettings()" style="width:100%">BACK</button>
    </div>

    <div id="credits-screen" class="hidden" onclick="closeCredits()">
        <div id="credits-content">
            <h1>CREDITS</h1>
            <p>Director: You</p>
            <p>Starring: Hunji Kamada</p>
            <p>Code: HTML5 Engine</p>
            <br>
            <p style="color: #aaa; font-size: 0.8rem;">(Click anywhere to return)</p>
        </div>
    </div>

    <div id="movie-overlay">
        <div id="movie-subtitles"></div>
    </div>

    <script>
        // --- SETUP ---
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        
        // State
        let state = "MENU"; // MENU, MOVIE
        let startTime = 0;
        
        // Resize Canvas
        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        // --- GAME LOOP & ANIMATION ---
        
        let frame = 0;
        
        // Animation Variables
        let skyColor = "#87CEEB";
        let roadColor = "#333";
        let grassColor = "#228B22";
        
        function draw() {
            frame++;
            const w = canvas.width;
            const h = canvas.height;

            // 1. Draw Sky
            ctx.fillStyle = skyColor;
            ctx.fillRect(0, 0, w, h);

            // 2. Draw Ground (Grass)
            ctx.fillStyle = grassColor;
            ctx.fillRect(0, h/2, w, h/2);

            // 3. Draw Road (Perspective)
            ctx.fillStyle = roadColor;
            ctx.beginPath();
            ctx.moveTo(w/2 - 20, h/2);    // Top Left
            ctx.lineTo(w/2 + 20, h/2);    // Top Right
            ctx.lineTo(w + 100, h);       // Bottom Right
            ctx.lineTo(-100, h);          // Bottom Left
            ctx.fill();

            // 4. Moving Road Lines (Speed Effect)
            ctx.fillStyle = "#FFD700"; // Yellow
            let speed = (state === "MOVIE") ? 20 : 10; // Run faster in movie
            let offset = (frame * speed) % 500;
            
            for(let i=0; i<10; i++) {
                // Perspective math for lines
                let y = (h/2) + (i * 50) + (offset/10);
                if (y > h) y -= 500; // Loop back
                if (y < h/2) continue;

                // Make lines get wider as they get closer
                let perspective = (y - h/2) / (h/2);
                let lineWidth = 5 + (perspective * 40);
                let lineX = w/2 - (lineWidth/2);
                
                ctx.fillRect(lineX, y, lineWidth, 15 * perspective);
            }

            // 5. Draw THE COACH (In Front / Further Away)
            // Smaller because of perspective
            let coachBob = Math.sin(frame * 0.2) * 5;
            let coachX = w/2 + 30; // Slightly to right
            let coachY = h/2 + 60 + coachBob;
            
            drawCharacter(ctx, coachX, coachY, 0.6, "#D00", "COACH"); // Red Coach

            // 6. Draw HUNJI KAMADA (The Kid) (Closer)
            let kidBob = Math.sin(frame * 0.25) * 8; // Faster bobbing
            let kidX = w/2 - 60; // Slightly to left
            let kidY = h/2 + 150 + kidBob;

            drawCharacter(ctx, kidX, kidY, 1.2, "#00F", "HUNJI"); // Blue Kid

            // Movie Logic Check
            if (state === "MOVIE") {
                updateMovie();
            }

            requestAnimationFrame(draw);
        }

        function drawCharacter(ctx, x, y, scale, color, label) {
            ctx.save();
            ctx.translate(x, y);
            ctx.scale(scale, scale);
            
            // Body
            ctx.fillStyle = color;
            ctx.fillRect(-15, -40, 30, 40);
            
            // Head
            ctx.fillStyle = "#FFC0CB"; // Skin
            ctx.beginPath();
            ctx.arc(0, -50, 12, 0, Math.PI*2);
            ctx.fill();

            // Arms (Swing)
            ctx.strokeStyle = color;
            ctx.lineWidth = 5;
            let swing = Math.sin(frame * 0.2) * 10;
            
            // Left Arm
            ctx.beginPath(); ctx.moveTo(-15, -35); ctx.lineTo(-25, -20 + swing); ctx.stroke();
            // Right Arm
            ctx.beginPath(); ctx.moveTo(15, -35); ctx.lineTo(25, -20 - swing); ctx.stroke();

            // Legs (Run)
            ctx.strokeStyle = "#000";
            let legSwing = Math.sin(frame * 0.2) * 15;
            
            // Left Leg
            ctx.beginPath(); ctx.moveTo(-10, 0); ctx.lineTo(-10, 20 + legSwing); ctx.stroke();
            // Right Leg
            ctx.beginPath(); ctx.moveTo(10, 0); ctx.lineTo(10, 20 - legSwing); ctx.stroke();

            ctx.restore();
        }

        // --- MOVIE SCRIPT ENGINE (5 MINUTES) ---
        function startMovie() {
            document.getElementById('main-menu').classList.add('hidden');
            document.getElementById('movie-overlay').style.display = 'block';
            state = "MOVIE";
            startTime = Date.now();
        }

        function updateMovie() {
            // Calculate seconds elapsed
            let elapsed = (Date.now() - startTime) / 1000;
            let subDiv = document.getElementById('movie-subtitles');

            // 5 MINUTE TIMELINE (300 Seconds)
            if (elapsed < 5) {
                subDiv.innerText = "The Beginning...";
                skyColor = "#87CEEB"; // Day
            } else if (elapsed < 15) {
                subDiv.innerText = "COACH: 'Keep your knees up, Hunji!'";
            } else if (elapsed < 30) {
                subDiv.innerText = "HUNJI: (Breathing heavily) 'I'm trying!'";
            } else if (elapsed < 60) {
                subDiv.innerText = "Minute 1: The warm up is over.";
                roadColor = "#444"; // Road gets darker
            } else if (elapsed < 120) {
                subDiv.innerText = "Minute 2: Night falls...";
                skyColor = "#1a1a40"; // Night Sky
            } else if (elapsed < 180) {
                subDiv.innerText = "Minute 3: It starts to rain.";
                // Simple rain effect via text description for this engine
                grassColor = "#1a331a"; // Dark grass
            } else if (elapsed < 240) {
                subDiv.innerText = "Minute 4: Only the strong survive.";
            } else if (elapsed < 290) {
                subDiv.innerText = "Minute 5: The final stretch!";
                skyColor = "#FFD700"; // Morning sun?
            } else if (elapsed < 300) {
                subDiv.innerText = "FINISH LINE AHEAD!";
            } else {
                // END MOVIE -> GO BACK TO MENU
                state = "MENU";
                document.getElementById('main-menu').classList.remove('hidden');
                document.getElementById('movie-overlay').style.display = 'none';
                
                // Reset visuals
                skyColor = "#87CEEB";
                roadColor = "#333";
                grassColor = "#228B22";
            }
        }

        // --- UI FUNCTIONS ---

        function openSettings() {
            document.getElementById('settings-menu').classList.remove('hidden');
        }

        function closeSettings() {
            document.getElementById('settings-menu').classList.add('hidden');
        }

        function updateSettings(type, val) {
            if(type === 'qual') document.getElementById('qual-val').innerText = val + "%";
            if(type === 'snd') document.getElementById('snd-val').innerText = val + "%";
        }

        function openCredits() {
            document.getElementById('credits-screen').classList.remove('hidden');
        }

        function closeCredits() {
            document.getElementById('credits-screen').classList.add('hidden');
        }

        // Start Loop
        requestAnimationFrame(draw);

    </script>
</body>
</html>
