<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gas Laws Simulator</title>
  <style>
    body {
      margin: 0;
      transition: background 0.5s ease;
      font-family: Arial, sans-serif;
      color: white;
      text-align: center;
    }
    #mainMenu {
      margin-top: 100px;
    }
    button.menu-btn {
      font-size: 1.5em;
      padding: 15px 30px;
      margin: 20px;
      background-color: #ff99cc;
      border: none;
      border-radius: 12px;
      color: white;
      cursor: pointer;
    }
    button.menu-btn:hover {
      background-color: #ff66b2;
    }
    .mode {
      display: none;
    }
    #container {
      margin: 40px auto;
      width: 400px;
      position: relative;
    }
    .balloon {
      margin: 30px auto;
      background-color: orange;
      border-radius: 50%;
      border: 3px solid white;
      transition: width 0.3s ease, height 0.3s ease;
    }
    #infoText {
      font-size: 1.2em;
      margin-top: 10px;
      white-space: pre-line;
    }
    input[type=range] {
      width: 300px;
      margin-top: 20px;
    }
    button.returnBtn {
      margin-top: 40px;
      padding: 10px 25px;
      background-color: #ff6666;
      border: none;
      border-radius: 8px;
      color: white;
      font-size: 1.2em;
      cursor: pointer;
    }
    /* Background colors for different modes */
    .boyle-bg { background: #777; }         /* gray */
    .charles-bg { background: linear-gradient(to bottom, #ff9999, #cc6699, #660066); }
    .gaylussac-bg { background: #228B22; }  /* green */
    .avogadro-bg { background: #ADD8E6; }   /* light blue */
  </style>
</head>
<body class="charles-bg">
  <div id="mainMenu">
    <div id="title">Learn Fun Learn Chemical</div>
    <button class="menu-btn" data-mode="boyle">Boyle's Law Mode</button>
    <button class="menu-btn" data-mode="charles">Charles' Law Mode</button>
    <button class="menu-btn" data-mode="gaylussac">Gay-Lussac's Law Mode</button>
    <button class="menu-btn" data-mode="avogadro">Avogadro's Law Mode</button>
  </div>

  <!-- Boyle's Law Mode -->
  <div id="boyle" class="mode">
    <div id="title">Boyle's Law Mode</div>
    <div id="container">
      <div id="boyleBalloon" class="balloon"></div>
      <label for="boyleVolume">Volume</label><br/>
      <input type="range" id="boyleVolume" min="10" max="200" value="100" />
      <div id="boyleInfo" style="margin-top: 15px; font-size:1.2em;"></div>
      <button id="boyleReturnBtn" class="returnBtn">Return to Menu</button>
    </div>
  </div>

  <!-- Charles's Law Mode -->
  <div id="charles" class="mode">
    <div id="title">Charles's Law Mode</div>
    <div id="container">
      <div id="charlesBalloon" class="balloon"></div>
      <label for="charlesTemp">Temperature (째C)</label><br/>
      <input type="range" id="charlesTemp" min="0" max="100" value="0" />
      <div id="charlesInfo" style="margin-top: 15px; font-size:1.2em; white-space: pre-line;"></div>
      <button id="charlesReturnBtn" class="returnBtn">Return to Menu</button>
    </div>
  </div>

  <!-- Gay-Lussac's Law Mode -->
  <div id="gaylussac" class="mode">
    <div id="title">Gay-Lussac's Law Mode</div>
    <div id="container">
      <label for="gayTemp">Temperature (째C)</label><br/>
      <input type="range" id="gayTemp" min="0" max="100" value="0" />
      <div id="gayInfo" style="margin-top: 15px; font-size:1.2em;"></div>
      <button id="gayReturnBtn" class="returnBtn">Return to Menu</button>
    </div>
  </div>

  <!-- Avogadro's Law Mode -->
  <div id="avogadro" class="mode">
    <div id="title">Avogadro's Law Mode</div>
    <div id="container">
      <div id="avogadroBalloon" class="balloon"></div>
      <label for="avogadroParticles">Number of Particles</label><br/>
      <input type="range" id="avogadroParticles" min="10" max="200" value="100" />
      <div id="avogadroInfo" style="margin-top: 15px; font-size:1.2em;"></div>
      <button id="avogadroReturnBtn" class="returnBtn">Return to Menu</button>
    </div>
  </div>

  <script>
    const mainMenu = document.getElementById('mainMenu');
    const modes = ['boyle', 'charles', 'gaylussac', 'avogadro'];
    const body = document.body;

    const bgClasses = {
      boyle: 'boyle-bg',
      charles: 'charles-bg',
      gaylussac: 'gaylussac-bg',
      avogadro: 'avogadro-bg'
    };

    function showMode(mode) {
      mainMenu.style.display = 'none';
      modes.forEach(m => {
        document.getElementById(m).style.display = (m === mode) ? 'block' : 'none';
      });
      // Apply corresponding background
      body.className = bgClasses[mode];
    }

    function returnToMenu() {
      modes.forEach(m => {
        document.getElementById(m).style.display = 'none';
      });
      mainMenu.style.display = 'block';
      body.className = bgClasses['charles']; // default/background reset
    }

    document.querySelectorAll('.menu-btn').forEach(btn => {
      btn.addEventListener('click', () => showMode(btn.dataset.mode));
    });

    document.querySelectorAll('.returnBtn').forEach(btn => {
      btn.addEventListener('click', returnToMenu);
    });

    // === (Rest of simulation code remains unchanged) ===
    // Boyle
    const boyleVolume = document.getElementById('boyleVolume');
    const boyleInfo = document.getElementById('boyleInfo');
    const boyleBalloon = document.getElementById('boyleBalloon');
    const boyleK = 10000;
    function updateBoyle() {
      const volume = Number(boyleVolume.value);
      const pressure = boyleK / volume;
      boyleBalloon.style.width = volume + 'px';
      boyleBalloon.style.height = volume + 'px';
      boyleInfo.textContent = `Volume: ${volume.toFixed(1)} units\nPressure: ${pressure.toFixed(2)} units`;
    }
    boyleVolume.addEventListener('input', updateBoyle);
    updateBoyle();

    // Charles
    const charlesTemp = document.getElementById('charlesTemp');
    const charlesBalloon = document.getElementById('charlesBalloon');
    const charlesInfo = document.getElementById('charlesInfo');
    const charlesInitialTempK = 273.15;
    const charlesInitialVolume = 2.0;
    function updateCharles() {
      const tempC = Number(charlesTemp.value);
      const tempK = tempC + 273.15;
      const volume = charlesInitialVolume * (tempK / charlesInitialTempK);
      const radius = Math.cbrt(volume) * 50;
      charlesBalloon.style.width = radius * 2 + 'px';
      charlesBalloon.style.height = radius * 2 + 'px';
      charlesInfo.textContent = `Temp: ${tempC} 째C\nVolume: ${volume.toFixed(2)} units`;
    }
    charlesTemp.addEventListener('input', updateCharles);
    updateCharles();

    // Gay-Lussac
    const gayTemp = document.getElementById('gayTemp');
    const gayInfo = document.getElementById('gayInfo');
    const gayInitialTempK = 273.15;
    const gayInitialPressure = 100;
    function updateGay() {
      const tempC = Number(gayTemp.value);
      const tempK = tempC + 273.15;
      const pressure = gayInitialPressure * (tempK / gayInitialTempK);
      gayInfo.textContent = `Temp: ${tempC} 째C\nPressure: ${pressure.toFixed(2)} units`;
    }
    gayTemp.addEventListener('input', updateGay);
    updateGay();

    // Avogadro
    const avogadroParticles = document.getElementById('avogadroParticles');
    const avogadroBalloon = document.getElementById('avogadroBalloon');
    const avogadroInfo = document.getElementById('avogadroInfo');
    const avogadroInitialParticles = 100;
    const avogadroInitialVolume = 100;
    function updateAvogadro() {
      const particles = Number(avogadroParticles.value);
      const volume = avogadroInitialVolume * (particles / avogadroInitialParticles);
      const radius = Math.cbrt(volume) * 5;
      avogadroBalloon.style.width = radius * 2 + 'px';
      avogadroBalloon.style.height = radius * 2 + 'px';
      avogadroInfo.textContent = `Particles: ${particles}\nVolume: ${volume.toFixed(2)} units`;
    }
    avogadroParticles.addEventListener('input', updateAvogadro);
    updateAvogadro();
  </script>
</body>
</html>
