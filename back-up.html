<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gas Laws Game</title>
  <style>
    body, html {
      margin: 0; padding: 0; height: 100%;
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(to bottom right,
        rgba(26,10,58,0.9), rgba(74,101,114,0.9));
      display: flex; justify-content: center; align-items: center;
    }
    .menu-container, .mode-screen {
      position: absolute;
      top: 0; left: 0; width: 100vw; height: 100vh;
      display: flex; flex-direction: column;
      align-items: center; justify-content: center;
      box-sizing: border-box;
    }
    .menu-container {
      background: rgba(255,255,255,0.85);
      border-radius: 12px; padding: 40px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.3);
      gap: 1cm; text-align: center;
      color: #333;
    }
    .menu-title { font-size: 48px; font-weight: bold; margin-bottom: 30px; }
    .menu-title span:first-child { color: #0097a7; }
    .menu-title span:last-child { color: #fdd835; }
    .menu-button {
      padding: 15px 30px; font-size: 18px;
      background-color: #0097a7; color: white;
      border: none; border-radius: 8px; cursor: pointer;
      transition: background-color 0.3s, transform 0.2s;
    }
    .menu-button:hover {
      background-color: #006064; transform: scale(1.1);
    }
    .mode-screen {
      display: none;
      background: rgba(17,17,17,0.95);
      color: white; text-align: center;
      padding: 30px;
      overflow-y: auto;
    }
    .return-button {
      padding: 10px 20px;
      font-size: 16px;
      background: white; color: black;
      border: none; border-radius: 5px;
      cursor: pointer;
      margin-top: 20px;
    }
    .slider-container {
      margin: 20px auto;
      width: 300px;
      color: white;
      text-align: left;
    }
    input[type=range] { width: 100%; }
    .balloon-container { margin: 20px auto; width: 200px; height: 250px; position: relative; }
    .balloon {
      position: relative;
      margin: 0 auto;
      background: #ff5a5f;
      border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
      transition: width 0.3s ease, height 0.3s ease, background-color 0.3s ease;
    }
    .molecule-counter {
      position: absolute; top: 10px; left: 50%;
      transform: translateX(-50%);
      font-size: 48px; font-weight: 600; text-shadow: 0 0 10px rgba(255,255,255,0.7);
    }
    .molecule-teller-bg {
      position: absolute; top:0;left:0;right:0;bottom:0;
      font-size:200px;font-weight:900;opacity:0.1;
      display:flex;justify-content:center;align-items:center;
      letter-spacing:20px;
    }
    .avogadro-increase-btn {
      background-color: #ff5a5f;
      border: none; border-radius: 30px;
      color: white; font-size: 1.3rem;
      padding: 12px 30px;
      cursor: pointer;
      margin: 10px auto;
      display: block;
      box-shadow: 0 3px 7px rgba(255,90,95,0.5);
      transition: background-color 0.3s;
    }
    .avogadro-increase-btn:hover {
      background-color: #ff7a7f;
    }
    @keyframes popAnimation {
      0% { transform: scale(1); opacity:1; }
      50% { transform: scale(1.4); opacity:0.8; }
      100% { transform: scale(0); opacity:0; }
    }
    .pop {
      animation: popAnimation 0.5s forwards;
    }
  </style>
</head>
<body>

  <!-- Main Menu -->
  <div class="menu-container" id="mainMenu">
    <div class="menu-title"><span>Chem</span><span>istry</span></div>
    <button class="menu-button" onclick="showMode('boyle')">Boyle's Law</button>
    <button class="menu-button" onclick="showMode('charles')">Charles's Law</button>
    <button class="menu-button" onclick="showMode('gayLussac')">Gay‑Lussac's Law</button>
    <button class="menu-button" onclick="showMode('avogadro')">Avogadro's Law</button>
  </div>

  <!-- Boyle -->
  <div class="mode-screen" id="boyle">
    <h2>Boyle's Law Mode</h2>
    <div class="slider-container"><label>Volume (V): <span id="boyleVolumeVal">50</span></label><input type="range" id="boyleVolume" min="10" max="100" value="50"/></div>
    <div class="slider-container"><label>Mass (m): <span id="boyleMassVal">1.0</span></label><input type="range" id="boyleMass" min="1" max="10" step="0.1" value="1"/></div>
    <div class="slider-container"><label>Temperature (T): <span id="boyleTempVal">20</span> °C</label><input type="range" id="boyleTemp" min="0" max="100" value="20"/></div>
    <div class="balloon-container"><div id="boyleBalloon" class="balloon" style="width:125px;height:175px;"></div></div>
    <button class="return-button" onclick="returnToMenu()">Return</button>
  </div>

  <!-- Charles -->
  <div class="mode-screen" id="charles">
    <h2>Charles's Law Mode</h2>
    <div class="balloon-container">
      <div id="charlesBalloon" class="balloon" style="width:100px;height:150px;"></div>
      <div id="charlesMoleculeBg" class="molecule-teller-bg">100</div>
    </div>
    <div class="slider-container"><label>Temperature (T): <span id="charlesTempVal">20</span> °C</label><input type="range" id="charlesTemp" min="0" max="100" value="20"/></div>
    <button class="return-button" onclick="returnToMenu()">Return</button>
  </div>

  <!-- Gay-Lussac -->
  <div class="mode-screen" id="gayLussac">
    <h2>Gay‑Lussac's Law Mode</h2>
    <div class="balloon-container"><div id="gayLussacBalloon" class="balloon" style="width:100px;height:150px;"></div></div>
    <div class="slider-container"><label>Pressure (P): <span id="gayLussacPressureVal">1</span></label><input type="range" id="gayLussacPressure" min="1" max="10" value="1"/></div>
    <div class="slider-container"><label>Temperature (T): <span id="gayLussacTempVal">20</span> °C</label><input type="range" id="gayLussacTemp" min="0" max="100" value="20"/></div>
    <button class="return-button" onclick="returnToMenu()">Return</button>
  </div>

  <!-- Avogadro -->
  <div class="mode-screen" id="avogadro">
    <h2>Avogadro's Law Mode</h2>
    <div class="balloon-container">
      <div id="avogadroBalloon" class="balloon" style="width:100px;height:150px;"></div>
      <div id="avogadroMoleculeBg" class="molecule-teller-bg">0</div>
      <div id="avogadroMoleculeCount" class="molecule-counter">0</div>
    </div>
    <button id="increaseMoleculeBtn" class="avogadro-increase-btn">Add Molecules</button>
    <button class="return-button" onclick="returnToMenu()">Return</button>
  </div>

  <script>
    const modes = ['boyle','charles','gayLussac','avogadro'];
    const mainMenu = document.getElementById('mainMenu');

    function showMode(m) {
      mainMenu.style.display = 'none';
      modes.forEach(x => document.getElementById(x).style.display = 'flex');

      if (m === 'boyle') setupBoyle();
      if (m === 'charles') setupCharles();
      if (m === 'gayLussac') setupGayLussac();
      if (m === 'avogadro') setupAvogadro();
    }

    function returnToMenu() {
      mainMenu.style.display = 'flex';
      modes.forEach(x => document.getElementById(x).style.display = 'none');
      // clear anything needed...
    }

    // Boyle’s Law
    const bv = document.getElementById('boyleVolume');
    const bm = document.getElementById('boyleMass');
    const bt = document.getElementById('boyleTemp');
    const bvV = document.getElementById('boyleVolumeVal');
    const bmV = document.getElementById('boyleMassVal');
    const btV = document.getElementById('boyleTempVal');
    const bb = document.getElementById('boyleBalloon');

    function setupBoyle(){
      [bv,bm,bt].forEach(sl => sl.oninput = updateBoyle);
      updateBoyle();
    }
    function updateBoyle(){
      const v = +bv.value, m = +bm.value, t = +bt.value;
      bvV.textContent = v;
      bmV.textContent = m.toFixed(1);
      btV.textContent = t;
      const w = 50 + v*1.5;
      const h = 75 + v*2;
      bb.style.width = w+'px';
      bb.style.height = h+'px';
      bb.style.backgroundColor = `rgba(255,90,95,${0.5+t/200})`;
    }

    // Charles’s Law
    const ct = document.getElementById('charlesTemp');
    const ctV = document.getElementById('charlesTempVal');
    const cb = document.getElementById('charlesBalloon');
    const cBg = document.getElementById('charlesMoleculeBg');
    function setupCharles(){
      ct.oninput = updateCharles;
      updateCharles();
    }
    function updateCharles(){
      const t = +ct.value;
      ctV.textContent = t;
      const vol = 50 + t*2.5;
      cb.style.width = vol+'px';
      cb.style.height = vol*1.5+'px';
      cBg.textContent = Math.floor(vol/2);
    }

    // Gay–Lussac’s Law
    const gp = document.getElementById('gayLussacPressure');
    const gpV = document.getElementById('gayLussacPressureVal');
    const gt = document.getElementById('gayLussacTemp');
    const gtV = document.getElementById('gayLussacTempVal');
    const gb = document.getElementById('gayLussacBalloon');

    function setupGayLussac(){
      gp.oninput = updateGayLussac;
      gt.oninput = updateGayLussac;
      updateGayLussac();
    }
    function updateGayLussac(){
      const p = +gp.value, t = +gt.value;
      gpV.textContent = p;
      gtV.textContent = t;
      let size = 100 * p / (t + 273);
      size = Math.max(50, Math.min(150, size));
      gb.style.width = size+'px';
      gb.style.height = size*1.5+'px';
      const intensity = Math.min(1, p/10);
      gb.style.backgroundColor = `rgba(255,${90 + intensity*100},95,0.8)`;
    }

    // Avogadro’s Law
    const ab = document.getElementById('avogadroBalloon');
    const aBg = document.getElementById('avogadroMoleculeBg');
    const aCt = document.getElementById('avogadroMoleculeCount');
    const aiBtn = document.getElementById('increaseMoleculeBtn');
    let moleculeCount = 0;

    function setupAvogadro(){
      moleculeCount = 0;
      aCt.textContent = moleculeCount;
      aBg.textContent = moleculeCount * 10;
      ab.style.width = '100px';
      ab.style.height = '150px';
      ab.style.backgroundColor = '#ff5a5f';
      aiBtn.onclick = () => {
        moleculeCount++;
        aCt.textContent = moleculeCount;
        aBg.textContent = moleculeCount * 10;
        ab.classList.add('pop');
        setTimeout(()=>{
          ab.classList.remove('pop');
          const w0 = parseInt(ab.style.width), h0 = parseInt(ab.style.height);
          ab.style.width = (w0 + 10) + 'px';
          ab.style.height = (h0 + 15) + 'px';
        }, 500);
      };
    }
  </script>
</body>
</html>
