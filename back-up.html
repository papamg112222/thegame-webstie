<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Boyle’s Law – Mass & Temp Simulator</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      text-align: center;
      background: #777;
      color: white;
    }
    h1 { margin-top: 20px; }
    #container {
      position: relative;
      margin: 20px auto;
      width: 600px;
      height: 400px;
      background: #333;
      border: 2px solid #555;
      overflow: hidden;
    }
    .dot {
      position: absolute;
      width: 8px;
      height: 8px;
      background: #33ccff;
      border-radius: 50%;
    }
    .control {
      margin: 10px 0;
    }
    label { margin-right: 8px; }
  </style>
</head>
<body>

  <h1>Boyle's Mode: Mass & Temperature</h1>
  <div id="container"></div>

  <div class="control">
    <label for="massSlider">Mass:</label>
    <input type="range" id="massSlider" min="10" max="200" value="100">
  </div>

  <div class="control">
    <label for="tempSlider">Temperature:</label>
    <input type="range" id="tempSlider" min="0" max="100" value="50">
  </div>

  <script>
    const container = document.getElementById('container');
    const massSlider = document.getElementById('massSlider');
    const tempSlider = document.getElementById('tempSlider');

    let dots = [];
    let maxDots = +massSlider.value / 10;      // initial mass
    let speedFactor = +tempSlider.value / 50; // initial temp
    const maxCount = 100;

    // Initialize dots
    function initDots(count) {
      container.innerHTML = '';
      dots = [];
      for (let i = 0; i < count; i++) {
        const dot = document.createElement('div');
        dot.className = 'dot';
        container.appendChild(dot);
        dots.push({
          el: dot,
          x: Math.random() * (container.clientWidth - 8),
          y: Math.random() * (container.clientHeight - 8),
          vx: (Math.random() - 0.5) * speedFactor * 2,
          vy: (Math.random() - 0.5) * speedFactor * 2
        });
      }
    }

    massSlider.addEventListener('input', () => {
      maxDots = +massSlider.value / 10;
      initDots(Math.min(maxDots, maxCount));
    });

    tempSlider.addEventListener('input', () => {
      const temp = +tempSlider.value;
      speedFactor = temp / 50;
      // Adjust velocities based on new speed
      dots.forEach(d => {
        d.vx = (Math.random() - 0.5) * speedFactor * 2;
        d.vy = (Math.random() - 0.5) * speedFactor * 2;
      });
    });

    function animate() {
      const cw = container.clientWidth - 8;
      const ch = container.clientHeight - 8;
      dots.forEach(d => {
        d.x += d.vx;
        d.y += d.vy;
        if (d.x < 0 || d.x > cw) d.vx *= -1;
        if (d.y < 0 || d.y > ch) d.vy *= -1;
        d.el.style.transform = `translate(${d.x}px, ${d.y}px)`;
      });
      requestAnimationFrame(animate);
    }

    // Start
    initDots(maxDots);
    animate();
  </script>
</body>
</html>
