<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta charset="UTF-8" />
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  Â  <title>Army Website</title>
Â  Â  <script src="https://cdn.tailwindcss.com"></script>
Â  Â  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
Â  Â  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
Â  Â  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
Â  Â  <script type="module">
Â  Â  Â  Â  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
Â  Â  Â  Â  import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
Â  Â  Â  Â  import { getFirestore, doc, onSnapshot, setDoc, updateDoc, getDoc, collection, increment } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
Â  Â  Â  Â Â 
Â  Â  Â  Â  window.Firebase = {
Â  Â  Â  Â  Â  Â  initializeApp,
Â  Â  Â  Â  Â  Â  getAuth,
Â  Â  Â  Â  Â  Â  signInAnonymously,
Â  Â  Â  Â  Â  Â  signInWithCustomToken,
Â  Â  Â  Â  Â  Â  onAuthStateChanged,
Â  Â  Â  Â  Â  Â  getFirestore,
Â  Â  Â  Â  Â  Â  doc,
Â  Â  Â  Â  Â  Â  onSnapshot,
Â  Â  Â  Â  Â  Â  setDoc,
Â  Â  Â  Â  Â  Â  updateDoc,
Â  Â  Â  Â  Â  Â  getDoc,
Â  Â  Â  Â  Â  Â  collection,
Â  Â  Â  Â  Â  Â  increment
Â  Â  Â  Â  };
Â  Â  </script>
Â  Â  <style>
Â  Â  Â  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
Â  Â  Â  body { font-family: 'Inter', sans-serif; }
Â  Â  Â Â 
Â  Â  Â  /* Base Animations */
Â  Â  Â  .animate-blob { animation: blob 7s infinite; }
Â  Â  Â  .animation-delay-2000 { animation-delay: 2s; }
Â  Â  Â  .animation-delay-4000 { animation-delay: 4s; }
Â  Â  Â Â 
Â  Â  Â  @keyframes blob {
Â  Â  Â  Â  0% { transform: translate(0px, 0px) scale(1); }
Â  Â  Â  Â  33% { transform: translate(30px, -50px) scale(1.1); }
Â  Â  Â  Â  66% { transform: translate(-20px, 20px) scale(0.9); }
Â  Â  Â  Â  100% { transform: translate(0px, 0px) scale(1); }
Â  Â  Â  }

Â  Â  Â  @keyframes slideUp {
Â  Â  Â  Â  from { opacity: 0; transform: translateY(20px); }
Â  Â  Â  Â  to { opacity: 1; transform: translateY(0); }
Â  Â  Â  }
Â  Â  Â  .animate-slide-up { animation: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }

Â  Â  Â  @keyframes fadeIn {
Â  Â  Â  Â  from { opacity: 0; }
Â  Â  Â  Â  to { opacity: 1; }
Â  Â  Â  }
Â  Â  Â  .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }

Â  Â  Â  @keyframes shake {
Â  Â  Â  Â  0%, 100% { transform: translateX(0); }
Â  Â  Â  Â  25% { transform: translateX(-5px); }
Â  Â  Â  Â  75% { transform: translateX(5px); }
Â  Â  Â  }
Â  Â  Â  .animate-shake { animation: shake 0.4s ease-in-out; }

Â  Â  Â  @keyframes slideRightInfinite {
Â  Â  Â  Â  0% { transform: translateX(-50%); }
Â  Â  Â  Â  100% { transform: translateX(0%); }
Â  Â  Â  }
Â  Â  Â  .animate-slide-right-infinite {
Â  Â  Â  Â  animation: slideRightInfinite 60s linear infinite;
Â  Â  Â  Â  width: 200%;
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  will-change: transform;
Â  Â  Â  }

Â  Â  Â  /* Counter Animations */
Â  Â  Â  @keyframes slideDownEnter {
Â  Â  Â  Â  Â  from { transform: translateY(-100%); }
Â  Â  Â  Â  Â  to { transform: translateY(0); }
Â  Â  Â  }
Â  Â  Â  @keyframes slideDownExit {
Â  Â  Â  Â  Â  from { transform: translateY(0); }
Â  Â  Â  Â  Â  to { transform: translateY(100%); }
Â  Â  Â  }

Â  Â  Â  .counter-enter { animation: slideDownEnter 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
Â  Â  Â  .counter-exit { animation: slideDownExit 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }

Â  Â  Â  /* --- FUN HOVER ANIMATIONS --- */
Â  Â  Â Â 
Â  Â  Â  /* 1. Bear Bounce */
Â  Â  Â  @keyframes popBounce {
Â  Â  Â  Â  0% { transform: translateY(100%) scale(0.5); opacity: 0; }
Â  Â  Â  Â  50% { transform: translateY(-20px) scale(1.1); opacity: 1; }
Â  Â  Â  Â  70% { transform: translateY(0px) scale(0.9); opacity: 1; }
Â  Â  Â  Â  100% { transform: translateY(-10px) scale(1); opacity: 1; }
Â  Â  Â  }
Â  Â  Â  .group:hover .anim-bear { animation: popBounce 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }

Â  Â  Â  /* 2. Fox Wiggle */
Â  Â  Â  @keyframes popWiggle {
Â  Â  Â  Â  0% { transform: translateY(100%) rotate(0deg); opacity: 0; }
Â  Â  Â  Â  40% { transform: translateY(-15px) rotate(-10deg); opacity: 1; }
Â  Â  Â  Â  60% { transform: translateY(-15px) rotate(10deg); }
Â  Â  Â  Â  80% { transform: translateY(-15px) rotate(-5deg); }
Â  Â  Â  Â  100% { transform: translateY(-15px) rotate(0deg); opacity: 1; }
Â  Â  Â  }
Â  Â  Â  .group:hover .anim-fox { animation: popWiggle 0.7s ease-out forwards; }

Â  Â  Â  /* 3. Bunny Hop */
Â  Â  Â  @keyframes popHop {
Â  Â  Â  Â  0% { transform: translateY(100%); opacity: 0; }
Â  Â  Â  Â  30% { transform: translateY(-30px) scaleX(0.8) scaleY(1.1); opacity: 1; }
Â  Â  Â  Â  60% { transform: translateY(0) scaleX(1.1) scaleY(0.9); }
Â  Â  Â  Â  80% { transform: translateY(-10px) scaleX(0.95) scaleY(1.05); }
Â  Â  Â  Â  100% { transform: translateY(0) scale(1); opacity: 1; }
Â  Â  Â  }
Â  Â  Â  .group:hover .anim-bunny { animation: popHop 0.6s ease-in-out forwards; }

Â  Â  Â  /* 4. Panda Peek */
Â  Â  Â  @keyframes popPeek {
Â  Â  Â  Â  0% { transform: translateY(100%) translateX(-20px) rotate(-20deg); opacity: 0; }
Â  Â  Â  Â  100% { transform: translateY(-10px) translateX(0) rotate(10deg); opacity: 1; }
Â  Â  Â  }
Â  Â  Â  .group:hover .anim-panda { animation: popPeek 0.5s cubic-bezier(0.18, 0.89, 0.32, 1.28) forwards; }

Â  Â  Â  /* Hide scrollbar for clean look */
Â  Â  Â  .no-scrollbar::-webkit-scrollbar {
Â  Â  Â  Â  Â  display: none;
Â  Â  Â  }
Â  Â  Â  .no-scrollbar {
Â  Â  Â  Â  Â  -ms-overflow-style: none;
Â  Â  Â  Â  Â  scrollbar-width: none;
Â  Â  Â  }
Â  Â  </style>
</head>
<body>
Â  Â  <div id="root"></div>

Â  Â  <script type="text/babel">
Â  Â  Â  Â  const { useState, useEffect, useRef } = React;

Â  Â  Â  Â  // Initialize Firebase services from window object (loaded in module script)
Â  Â  Â  Â  const initFirebase = () => {
Â  Â  Â  Â  Â  Â  if (!window.Firebase) return null;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  let firebaseConfig;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Check if config exists in environment (Canvas mode)
Â  Â  Â  Â  Â  Â  if (typeof __firebase_config !== 'undefined') {
Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  firebaseConfig = JSON.parse(__firebase_config);
Â  Â  Â  Â  Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("Error parsing automatic config", e);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // --- PASTE YOUR FIREBASE CONFIG BELOW FOR GITHUB PAGES ---
Â  Â  Â  Â  Â  Â  // If the above automatic config failed (which happens on GitHub), use this:
Â  Â  Â  Â  Â  Â  if (!firebaseConfig) {
Â  Â  Â  Â  Â  Â  Â  Â  // firebaseConfig = {
Â  Â  Â  Â  Â  Â  Â  Â  //Â  Â  apiKey: "YOUR_API_KEY",
Â  Â  Â  Â  Â  Â  Â  Â  //Â  Â  authDomain: "YOUR_PROJECT.firebaseapp.com",
Â  Â  Â  Â  Â  Â  Â  Â  //Â  Â  projectId: "YOUR_PROJECT_ID",
Â  Â  Â  Â  Â  Â  Â  Â  //Â  Â  storageBucket: "YOUR_PROJECT.appspot.com",
Â  Â  Â  Â  Â  Â  Â  Â  //Â  Â  messagingSenderId: "...",
Â  Â  Â  Â  Â  Â  Â  Â  //Â  Â  appId: "..."
Â  Â  Â  Â  Â  Â  Â  Â  // };
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // If still no config, return null (App runs in offline/demo mode)
Â  Â  Â  Â  Â  Â  Â  Â  if (!firebaseConfig) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.warn("Firebase configuration missing. Running in Offline Mode.");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return null;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const app = window.Firebase.initializeApp(firebaseConfig);
Â  Â  Â  Â  Â  Â  Â  Â  const auth = window.Firebase.getAuth(app);
Â  Â  Â  Â  Â  Â  Â  Â  const db = window.Firebase.getFirestore(app);
Â  Â  Â  Â  Â  Â  Â  Â  const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
Â  Â  Â  Â  Â  Â  Â  Â  return { auth, db, appId, ...window.Firebase };
Â  Â  Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error("Firebase initialization failed:", e);
Â  Â  Â  Â  Â  Â  Â  Â  return null;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  const fb = initFirebase();

Â  Â  Â  Â  // --- ICONS ---
Â  Â  Â  Â  const HomeIcon = ({ size = 24, className = "" }) => (
Â  Â  Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
Â  Â  Â  Â  );
Â  Â  Â  Â  const UserIcon = ({ size = 24, className = "" }) => (
Â  Â  Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
Â  Â  Â  Â  );
Â  Â  Â  Â  const MailIcon = ({ size = 24, className = "" }) => (
Â  Â  Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>
Â  Â  Â  Â  );
Â  Â  Â  Â  const SparklesIcon = ({ size = 24, className = "" }) => (
Â  Â  Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M9 3v4"/><path d="M3 5h4"/><path d="M3 9h4"/></svg>
Â  Â  Â  Â  );
Â  Â  Â  Â  const QrCodeIcon = ({ size = 24, className = "" }) => (
Â  Â  Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="5" height="5" x="3" y="3" rx="1"/><rect width="5" height="5" x="16" y="3" rx="1"/><rect width="5" height="5" x="3" y="16" rx="1"/><path d="M21 16h-3a2 2 0 0 0-2 2v3"/><path d="M21 21v.01"/><path d="M12 7v3a2 2 0 0 1-2 2H7"/><path d="M3 12h.01"/><path d="M12 3h.01"/><path d="M12 16v.01"/><path d="M16 12h1"/><path d="M21 12v.01"/><path d="M12 21v-1"/></svg>
Â  Â  Â  Â  );
Â  Â  Â  Â  const ExternalLinkIcon = ({ size = 24, className = "" }) => (
Â  Â  Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" x2="21" y1="14" y2="3"/></svg>
Â  Â  Â  Â  );
Â  Â  Â  Â  const LockIcon = ({ size = 24, className = "" }) => (
Â  Â  Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
Â  Â  Â  Â  );
Â  Â  Â  Â  const SettingsIcon = ({ size = 24, className = "" }) => (
Â  Â  Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.09a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.39a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>
Â  Â  Â  Â  );
Â  Â  Â  Â  const ScissorsIcon = ({ size = 24, className = "" }) => (
Â  Â  Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="6" cy="6" r="3"/><circle cx="6" cy="18" r="3"/><line x1="20" x2="8.12" y1="4" y2="15.88"/><line x1="14.47" x2="20" y1="14.48" y2="20"/><line x1="8.12" x2="12" y1="8.12" y2="12"/></svg>
Â  Â  Â  Â  );
Â  Â  Â  Â  const EditIcon = ({ size = 24, className = "" }) => (
Â  Â  Â  Â  Â  Â  Â <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>
Â  Â  Â  Â  );
Â  Â  Â  Â  const BackpackIcon = ({ size = 32, className = "" }) => (
Â  Â  Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2Z"/><path d="M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2"/><path d="M8 21v-5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v5"/><path d="M8 10h8"/><path d="M8 18h8"/></svg>
Â  Â  Â  Â  );

Â  Â  Â  Â  // --- UTILS ---
Â  Â  Â  Â  const removeBackgroundSmart = async (base64Image) => {
Â  Â  Â  Â  Â  Â  return new Promise((resolve, reject) => {
Â  Â  Â  Â  Â  Â  Â  Â  const img = new Image();
Â  Â  Â  Â  Â  Â  Â  Â  img.crossOrigin = "Anonymous";
Â  Â  Â  Â  Â  Â  Â  Â  img.onload = () => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const canvas = document.createElement('canvas');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  canvas.width = img.width;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  canvas.height = img.height;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const ctx = canvas.getContext('2d');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!ctx) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  resolve(base64Image);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ctx.drawImage(img, 0, 0);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const frame = ctx.getImageData(0, 0, img.width, img.height);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const data = frame.data;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const r0 = data[0], g0 = data[1], b0 = data[2];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const tolerance = 40;Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  for(let i = 0; i < data.length; i += 4) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const r = data[i];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const g = data[i+1];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const b = data[i+2];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (Math.abs(r - r0) < tolerance && Math.abs(g - g0) < tolerance && Math.abs(b - b0) < tolerance) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data[i+3] = 0;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ctx.putImageData(frame, 0, 0);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  resolve(canvas.toDataURL());
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } catch (err) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("Canvas manipulation error:", err);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  resolve(base64Image);Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â  img.onerror = () => reject(new Error("Failed to load image"));
Â  Â  Â  Â  Â  Â  Â  Â  img.src = base64Image;
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  };

Â  Â  Â  Â  // --- COMPONENTS ---

Â  Â  Â  Â  // A single digit that slides down when it changes
Â  Â  Â  Â  const SlidingDigit = ({ digit }) => {
Â  Â  Â  Â  Â  Â  const [display, setDisplay] = useState({ current: digit, prev: null });
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  useEffect(() => {
Â  Â  Â  Â  Â  Â  Â  Â  if (digit !== display.current) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setDisplay({ current: digit, prev: display.current });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const timer = setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setDisplay({ current: digit, prev: null });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }, 500); // Sync with CSS animation duration
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return () => clearTimeout(timer);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }, [digit]);

Â  Â  Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  Â  Â  Â  <div className="relative h-6 w-3 overflow-hidden inline-block align-middle mx-[1px]">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* Previous Number (Slides down out of view) */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {display.prev !== null && (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="absolute inset-0 flex items-center justify-center font-mono font-bold text-zinc-600 counter-exit">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {display.prev}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* Current Number (Slides down into view) */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className={`absolute inset-0 flex items-center justify-center font-mono font-bold text-zinc-600 ${display.prev !== null ? 'counter-enter' : ''}`}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {display.current}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  };

Â  Â  Â  Â  const SlidingCounter = ({ count }) => {
Â  Â  Â  Â  Â  Â  // Convert count to string and pad with zeros if needed (optional, keeping it simple here)
Â  Â  Â  Â  Â  Â  const digits = count.toString().split('');
Â  Â  Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex items-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {digits.map((d, i) => (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <SlidingDigit key={i} digit={d} />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  };

Â  Â  Â  Â  const Navigation = ({ activeTab, onTabChange, isVisible }) => {
Â  Â  Â  Â  Â  Â  const navItems = [
Â  Â  Â  Â  Â  Â  Â  Â  { id: 'HOME', label: 'Home', icon: HomeIcon },
Â  Â  Â  Â  Â  Â  Â  Â  { id: 'ABOUT', label: 'About', icon: UserIcon },
Â  Â  Â  Â  Â  Â  Â  Â  { id: 'CONTACT', label: 'Contact', icon: MailIcon },
Â  Â  Â  Â  Â  Â  ];

Â  Â  Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  Â  Â  Â  <div className={`transition-all duration-1000 ease-out transform ${isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10'} flex justify-center w-full mt-6`}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex space-x-2 bg-white/70 backdrop-blur-xl border border-zinc-200 p-2 rounded-full shadow-xl shadow-indigo-100/50">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {navItems.map((item) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const Icon = item.icon;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const isActive = activeTab === item.id;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button key={item.id} onClick={() => onTabChange(item.id)} className={`relative px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 flex items-center gap-2 ${isActive ? 'bg-zinc-900 text-white shadow-lg scale-105' : 'text-zinc-500 hover:text-zinc-900 hover:bg-white'}`}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <Icon size={16} /><span>{item.label}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  })}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  };

Â  Â  Â  Â  const ContactCard = () => {
Â  Â  Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  Â  Â  Â  <div className="w-full max-w-md mx-auto animate-slide-up mt-12 pb-12">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="bg-white/80 border border-zinc-200 rounded-2xl p-8 backdrop-blur-lg shadow-2xl shadow-zinc-200/50">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 className="text-2xl font-bold text-zinc-900 mb-6 flex items-center gap-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="bg-zinc-100 p-2 rounded-lg text-zinc-900"><UserIcon size={20} /></span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Contact Information
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="space-y-6">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label className="text-xs font-bold text-zinc-400 uppercase tracking-wider mb-1 block">Name</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="text-lg text-zinc-800 font-semibold group-hover:text-zinc-950 transition-colors">T.Aphilak Kapangnoy</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label className="text-xs font-bold text-zinc-400 uppercase tracking-wider mb-1 block">Email</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <a href="mailto:arm.rst2542@gmail.com" className="flex items-center gap-2 text-lg text-zinc-700 font-medium hover:text-blue-600 transition-colors">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <MailIcon size={18} />arm.rst2542@gmail.com
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </a>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="h-px bg-zinc-100 my-6"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="space-y-3">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label className="text-xs font-bold text-zinc-400 uppercase tracking-wider block">Instant Messaging</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="bg-slate-50 rounded-xl p-4 border border-zinc-100 flex flex-col items-center text-center space-y-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="bg-white p-2 rounded-lg border border-zinc-100 shadow-sm"><QrCodeIcon size={64} className="text-zinc-900" /></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="space-y-1">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-zinc-600 text-sm">Line ID: <span className="text-zinc-900 font-mono font-bold">arm42.rst</span></p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-xs text-zinc-400">Scan QR or click below to chat</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onClick={() => window.open('https://line.me/ti/p/~arm42.rst', '_blank')} className="w-full bg-[#06C755] hover:bg-[#05b34c] text-white font-bold py-3 px-4 rounded-xl transition-all duration-300 shadow-lg shadow-green-500/20 flex items-center justify-center gap-2 group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>Chat on Line</span><ExternalLinkIcon size={16} className="group-hover:translate-x-1 transition-transform" />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  };

Â  Â  Â  Â  const HeaderSection = ({ introPhase, activeTab, onTabChange, headerImages, onRequestEdit }) => {
Â  Â  Â  Â  Â  Â  const isStarted = introPhase !== 'start';
Â  Â  Â  Â  Â  Â  const validHeaderImages = headerImages.filter(img => img && img.trim().length > 0);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  Â  Â  Â  <div className={`relative w-full overflow-hidden transition-all duration-[2000ms] cubic-bezier(0.16, 1, 0.3, 1) rounded-b-[40px] shadow-sm ${isStarted ? 'h-auto py-12 bg-indigo-50/80 border-b border-indigo-100/50' : 'h-screen flex flex-col justify-center items-center bg-transparent'}`}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {isStarted && validHeaderImages.length > 0 && (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div className="absolute inset-0 flex items-center h-full pointer-events-none z-0">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="animate-slide-right-infinite h-full">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {validHeaderImages.map((src, i) => (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div key={'a'+i} className="flex-shrink-0 w-1/4 h-full p-8"><img src={src.startsWith('data:') ? src : `data:image/png;base64,${src}`} className="w-full h-full object-contain drop-shadow-md" /></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {validHeaderImages.map((src, i) => (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div key={'b'+i} className="flex-shrink-0 w-1/4 h-full p-8"><img src={src.startsWith('data:') ? src : `data:image/png;base64,${src}`} className="w-full h-full object-contain drop-shadow-md" /></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {validHeaderImages.length < 4 && validHeaderImages.map((src, i) => (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div key={'c'+i} className="flex-shrink-0 w-1/4 h-full p-8"><img src={src.startsWith('data:') ? src : `data:image/png;base64,${src}`} className="w-full h-full object-contain drop-shadow-md" /></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* --- THIS LINE IS EDITED FOR BLUR --- */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div className="absolute inset-0 bg-white/20 backdrop-blur"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="absolute inset-0 overflow-hidden pointer-events-none z-0">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className={`absolute top-0 left-1/4 w-64 h-64 bg-yellow-200/40 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob ${!isStarted ? 'scale-150' : ''}`} />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className={`absolute top-0 right-1/4 w-64 h-64 bg-pink-200/40 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob animation-delay-2000 ${!isStarted ? 'scale-150' : ''}`} />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className={`absolute -bottom-8 left-1/2 -translate-x-1/2 w-64 h-64 bg-purple-200/40 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob animation-delay-4000 ${!isStarted ? 'scale-150' : ''}`} />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className={`relative z-10 w-full flex flex-col items-center justify-center transition-all duration-[2000ms] ${isStarted ? 'translate-y-0' : 'translate-y-[10vh]'}`}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex items-center gap-3">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h1 className={`font-bold text-zinc-900 text-center transition-all duration-[2000ms] cubic-bezier(0.16, 1, 0.3, 1) ${isStarted ? 'text-4xl md:text-5xl tracking-tight' : 'text-5xl md:text-8xl tracking-tighter'}`}>Welcome, to Army Website</h1>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {isStarted && (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onClick={onRequestEdit} className="text-zinc-300 hover:text-zinc-600 transition-colors" title="Edit Background"><SettingsIcon size={20} /></button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <Navigation activeTab={activeTab} onTabChange={onTabChange} isVisible={isStarted} />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  };

Â  Â  Â  Â  const App = () => {
Â  Â  Â  Â  Â  Â  const [introPhase, setIntroPhase] = useState('start');
Â  Â  Â  Â  Â  Â  const [activeTab, setActiveTab] = useState('HOME');
Â  Â  Â  Â  Â  Â  const [user, setUser] = useState(null);
Â  Â  Â  Â  Â  Â  const [visitorCount, setVisitorCount] = useState(0);

Â  Â  Â  Â  Â  Â  // Data States
Â  Â  Â  Â  Â  Â  const [base64Input, setBase64Input] = useState('');
Â  Â  Â  Â  Â  Â  const [renderedImage, setRenderedImage] = useState(null);
Â  Â  Â  Â  Â  Â  const [bioText, setBioText] = useState("Welcome to my profile.");
Â  Â  Â  Â  Â  Â  const [headerImages, setHeaderImages] = useState(Array(4).fill(''));
Â  Â  Â  Â  Â  Â  const [isEditingHeader, setIsEditingHeader] = useState(false);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Home Slider
Â  Â  Â  Â  Â  Â  const [homeImages, setHomeImages] = useState(Array(5).fill(''));
Â  Â  Â  Â  Â  Â  const [virtualIndex, setVirtualIndex] = useState(0);

Â  Â  Â  Â  Â  Â  // Home Cards State (m1, m2, m3, m4)
Â  Â  Â  Â  Â  Â  const DEFAULT_HOME_CARDS = [
Â  Â  Â  Â  Â  Â  Â  Â  { id: 'm1', title: 'Students', subtitle: 'Explore learning', color: 'bg-[#14919B]', icon: '', toy: 'ðŸ»' },
Â  Â  Â  Â  Â  Â  Â  Â  { id: 'm2', title: 'Educators', subtitle: 'Teach with us', color: 'bg-[#804FB3]', icon: '', toy: 'ðŸ¦Š' },
Â  Â  Â  Â  Â  Â  Â  Â  { id: 'm3', title: 'Parents', subtitle: 'Get started at home', color: 'bg-[#F5565B]', icon: '', toy: 'ðŸ°' },
Â  Â  Â  Â  Â  Â  Â  Â  { id: 'm4', title: 'Districts', subtitle: 'Equip your schools', color: 'bg-[#F2AC29]', icon: '', toy: 'ðŸ¼' }
Â  Â  Â  Â  Â  Â  ];
Â  Â  Â  Â  Â  Â  const [homeCards, setHomeCards] = useState(DEFAULT_HOME_CARDS);
Â  Â  Â  Â  Â  Â  const [isEditingHome, setIsEditingHome] = useState(false);

Â  Â  Â  Â  Â  Â  // UI States
Â  Â  Â  Â  Â  Â  const [showReset, setShowReset] = useState(false);
Â  Â  Â  Â  Â  Â  const [showStyleSelector, setShowStyleSelector] = useState(false);
Â  Â  Â  Â  Â  Â  const [pendingImage, setPendingImage] = useState(null);
Â  Â  Â  Â  Â  Â  const [isProcessing, setIsProcessing] = useState(false);
Â  Â  Â  Â  Â  Â  const [isEditingBio, setIsEditingBio] = useState(false);
Â  Â  Â  Â  Â  Â  const [showPasswordModal, setShowPasswordModal] = useState(false);
Â  Â  Â  Â  Â  Â  const [passwordInput, setPasswordInput] = useState('');
Â  Â  Â  Â  Â  Â  const [passwordError, setPasswordError] = useState(false);
Â  Â  Â  Â  Â  Â  const [pendingAction, setPendingAction] = useState(null);

Â  Â  Â  Â  Â  Â  // --- FIREBASE INIT ---
Â  Â  Â  Â  Â  Â  useEffect(() => {
Â  Â  Â  Â  Â  Â  Â  Â  if (!fb) return;
Â  Â  Â  Â  Â  Â  Â  Â  const { auth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } = fb;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const initAuth = async () => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try { await signInWithCustomToken(auth, __initial_auth_token); } catch(e) { console.error("Token Auth Failed", e); await signInAnonymously(auth); }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try { await signInAnonymously(auth); } catch(e) { console.error("Anon Auth Failed", e); }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â  initAuth();
Â  Â  Â  Â  Â  Â  Â  Â  const unsubscribe = onAuthStateChanged(auth, setUser);
Â  Â  Â  Â  Â  Â  Â  Â  return () => unsubscribe();
Â  Â  Â  Â  Â  Â  }, []);

Â  Â  Â  Â  Â  Â  // --- VISITOR COUNT LOGIC (UPDATED TO FIX) ---
Â  Â  Â  Â  Â  Â  useEffect(() => {
Â  Â  Â  Â  Â  Â  Â  Â  // Scenario 1: Firebase is Active (Standard Mode)
Â  Â  Â  Â  Â  Â  Â  Â  if (user && fb) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const { db, appId, doc, onSnapshot, updateDoc, setDoc, getDoc, collection, increment } = fb;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const statsRef = doc(db, 'artifacts', appId, 'public', 'data', 'site_stats', 'visitors');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Listen for real-time updates
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const unsubscribe = onSnapshot(statsRef, (docSnap) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (docSnap.exists()) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setVisitorCount(docSnap.data().count || 0);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setDoc(statsRef, { count: 0 }).catch(err => console.error("Init stats failed", err));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }, (error) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("Error listening to stats:", error);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Increment Logic
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const hasVisited = sessionStorage.getItem('visited_army_site');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!hasVisited) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const incrementStats = async () => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await updateDoc(statsRef, { count: increment(1) });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  sessionStorage.setItem('visited_army_site', 'true');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (e.code === 'not-found') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await setDoc(statsRef, { count: 1 });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  sessionStorage.setItem('visited_army_site', 'true');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  incrementStats();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return () => unsubscribe();
Â  Â  Â  Â  Â  Â  Â  Â  }Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Scenario 2: Firebase is Missing (Local Fallback Mode - FIX for "Not Working")
Â  Â  Â  Â  Â  Â  Â  Â  else if (!fb) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Try to get count from localStorage
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const localSavedCount = localStorage.getItem('local_visitor_count');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let currentCount = localSavedCount ? parseInt(localSavedCount) : 100; // Start at 100 if new

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const hasVisited = sessionStorage.getItem('visited_army_site');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!hasVisited) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Increment
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentCount = currentCount + 1;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('local_visitor_count', currentCount.toString());
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  sessionStorage.setItem('visited_army_site', 'true');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setVisitorCount(currentCount);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }, [user]);


Â  Â  Â  Â  Â  Â  useEffect(() => {
Â  Â  Â  Â  Â  Â  Â  Â  const savedImage = localStorage.getItem('army_profile_pic');
Â  Â  Â  Â  Â  Â  Â  Â  if (savedImage) setRenderedImage(savedImage);
Â  Â  Â  Â  Â  Â  Â  Â  const savedCards = localStorage.getItem('army_home_cards');
Â  Â  Â  Â  Â  Â  Â  Â  if (savedCards) setHomeCards(JSON.parse(savedCards));
Â  Â  Â  Â  Â  Â  Â  Â  const savedSlider = localStorage.getItem('army_home_images');
Â  Â  Â  Â  Â  Â  Â  Â  if (savedSlider) setHomeImages(JSON.parse(savedSlider));
Â  Â  Â  Â  Â  Â  Â  Â  const savedBio = localStorage.getItem('army_bio_text');
Â  Â  Â  Â  Â  Â  Â  Â  if (savedBio) setBioText(savedBio);
Â  Â  Â  Â  Â  Â  Â  Â  const savedHeader = localStorage.getItem('army_header_bg');
Â  Â  Â  Â  Â  Â  Â  Â  if (savedHeader) setHeaderImages(JSON.parse(savedHeader));
Â  Â  Â  Â  Â  Â  }, []);

Â  Â  Â  Â  Â  Â  useEffect(() => {
Â  Â  Â  Â  Â  Â  Â  Â  const timer1 = setTimeout(() => setIntroPhase('transition'), 100);Â 
Â  Â  Â  Â  Â  Â  Â  Â  const timer2 = setTimeout(() => setIntroPhase('finished'), 2100);
Â  Â  Â  Â  Â  Â  Â  Â  return () => { clearTimeout(timer1); clearTimeout(timer2); };
Â  Â  Â  Â  Â  Â  }, []);

Â  Â  Â  Â  Â  Â  // Slider Interval
Â  Â  Â  Â  Â  Â  useEffect(() => {
Â  Â  Â  Â  Â  Â  Â  Â  const validImages = homeImages.filter(img => img && img.trim().length > 0);
Â  Â  Â  Â  Â  Â  Â  Â  if (activeTab === 'HOME' && !isEditingHome && validImages.length > 1) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const timer = setInterval(() => { setVirtualIndex(prev => prev + 1); }, 3000);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return () => clearInterval(timer);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }, [activeTab, isEditingHome, homeImages]);

Â  Â  Â  Â  Â  Â  const handleImageInput = () => {
Â  Â  Â  Â  Â  Â  Â  Â  if (!base64Input.trim()) return;
Â  Â  Â  Â  Â  Â  Â  Â  let finalSrc = base64Input.trim();
Â  Â  Â  Â  Â  Â  Â  Â  if (!finalSrc.startsWith('data:')) finalSrc = `data:image/png;base64,${finalSrc}`;
Â  Â  Â  Â  Â  Â  Â  Â  setPendingImage(finalSrc);
Â  Â  Â  Â  Â  Â  Â  Â  setShowStyleSelector(true);
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  const processImage = async (mode) => {
Â  Â  Â  Â  Â  Â  Â  Â  if (!pendingImage) return;
Â  Â  Â  Â  Â  Â  Â  Â  if (mode === 'NORMAL') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setRenderedImage(pendingImage);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('army_profile_pic', pendingImage);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  finalizeImageProcess();
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setIsProcessing(true);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const processed = await removeBackgroundSmart(pendingImage);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setRenderedImage(processed);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('army_profile_pic', processed);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert("Error processing image");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setRenderedImage(pendingImage);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('army_profile_pic', pendingImage);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } finally {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setIsProcessing(false);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  finalizeImageProcess();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  const finalizeImageProcess = () => {
Â  Â  Â  Â  Â  Â  Â  Â  setShowStyleSelector(false);
Â  Â  Â  Â  Â  Â  Â  Â  setPendingImage(null);
Â  Â  Â  Â  Â  Â  Â  Â  setShowReset(false);
Â  Â  Â  Â  Â  Â  Â  Â  setBase64Input('');Â 
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  const requestAction = (action) => {
Â  Â  Â  Â  Â  Â  Â  Â  setPendingAction(action);
Â  Â  Â  Â  Â  Â  Â  Â  setShowPasswordModal(true);
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  const confirmPassword = (e) => {
Â  Â  Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â  Â  Â  if (passwordInput === '1090') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (pendingAction === 'RESET_PROFILE') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setRenderedImage(null);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  localStorage.removeItem('army_profile_pic');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setShowReset(false);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (pendingAction === 'EDIT_HOME') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setIsEditingHome(true);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (pendingAction === 'EDIT_BIO') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setIsEditingBio(true);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (pendingAction === 'EDIT_HEADER') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setIsEditingHeader(true);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setShowPasswordModal(false);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setPasswordInput('');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setPasswordError(false);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setPendingAction(null);
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setPasswordError(true);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => setPasswordError(false), 500);Â 
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  const saveBio = () => {
Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('army_bio_text', bioText);
Â  Â  Â  Â  Â  Â  Â  Â  setIsEditingBio(false);
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const saveHomeContent = () => {
Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('army_home_cards', JSON.stringify(homeCards));
Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('army_home_images', JSON.stringify(homeImages));
Â  Â  Â  Â  Â  Â  Â  Â  setIsEditingHome(false);
Â  Â  Â  Â  Â  Â  Â  Â  setVirtualIndex(0);
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  const saveHeaderImages = async () => {
Â  Â  Â  Â  Â  Â  Â  Â  setIsProcessing(true);
Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const processedImages = await Promise.all(headerImages.map(async (img) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!img || img.trim().length === 0) return '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let src = img.trim();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!src.startsWith('data:')) src = `data:image/png;base64,${src}`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return await removeBackgroundSmart(src);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setHeaderImages(processedImages);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('army_header_bg', JSON.stringify(processedImages));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setIsEditingHeader(false);
Â  Â  Â  Â  Â  Â  Â  Â  } catch (err) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("Error processing header images", err);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert("There was an error processing the backgrounds. Saving originals.");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('army_header_bg', JSON.stringify(headerImages));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setIsEditingHeader(false);
Â  Â  Â  Â  Â  Â  Â  Â  } finally {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setIsProcessing(false);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  const renderContent = () => {
Â  Â  Â  Â  Â  Â  Â  Â  if (isEditingHeader) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="animate-slide-up max-w-4xl mx-auto space-y-6 mt-8 pb-12">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="text-center mb-8">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 className="text-xl font-bold text-zinc-900">Header Background</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-zinc-500 text-sm">Paste 4 Base64 strings. <span className="text-indigo-600 font-bold">White backgrounds will be auto-removed on save.</span></p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {isProcessing ? (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex flex-col items-center justify-center py-12">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-zinc-900 mb-4"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-sm text-zinc-500">Processing images...</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ) : (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {headerImages.map((img, index) => (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div key={index} className="space-y-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label className="text-xs font-bold text-zinc-400">BG Image {index + 1}</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea value={img} onChange={(e) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const newImages = [...headerImages];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  newImages[index] = e.target.value;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setHeaderImages(newImages);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }} className="w-full h-20 p-2 text-[10px] font-mono border rounded-lg bg-white resize-none outline-none focus:ring-2 focus:ring-zinc-200" placeholder="Base64 string..." />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex justify-center pt-4 gap-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onClick={() => setIsEditingHeader(false)} className="px-8 py-3 bg-zinc-100 text-zinc-600 rounded-full font-bold">Cancel</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onClick={saveHeaderImages} className="px-8 py-3 bg-zinc-900 text-white rounded-full font-bold shadow-lg hover:scale-105 transition-transform">Save & Auto-Process</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  if (activeTab === 'HOME') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (isEditingHome) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="animate-slide-up max-w-6xl mx-auto space-y-8 mt-8 pb-12">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="text-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 className="text-xl font-bold text-zinc-900">Edit Home Content</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-zinc-500 text-sm">Configure both the 3D Slider and the Cards below.</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* Slider Editor */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="bg-white p-6 rounded-2xl border border-zinc-200 shadow-sm">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 className="font-bold text-zinc-700 mb-4">3D Slider Images (5)</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {homeImages.map((img, index) => (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div key={index} className="space-y-1">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label className="text-[10px] font-bold text-zinc-400">Slide {index+1}</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textareaÂ 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={img}Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const newImages = [...homeImages];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  newImages[index] = e.target.value;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setHomeImages(newImages);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="w-full h-16 p-2 text-[10px] font-mono border rounded bg-zinc-50 resize-none focus:ring-1 focus:ring-zinc-400 outline-none"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placeholder="Base64..."
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* Cards Editor */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="bg-white p-6 rounded-2xl border border-zinc-200 shadow-sm">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 className="font-bold text-zinc-700 mb-4">Bottom Cards (m1 - m4)</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {homeCards.map((card, index) => (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div key={card.id} className="p-3 rounded-xl border border-zinc-100 bg-zinc-50 space-y-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="font-bold text-zinc-400 text-xs uppercase">Card {index+1} ({card.toy})</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" placeholder="Title" value={card.title} onChange={(e) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const newCards = [...homeCards]; newCards[index].title = e.target.value; setHomeCards(newCards);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }} className="w-full p-2 text-xs border rounded" />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" placeholder="Subtitle" value={card.subtitle} onChange={(e) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const newCards = [...homeCards]; newCards[index].subtitle = e.target.value; setHomeCards(newCards);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }} className="w-full p-2 text-xs border rounded" />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" placeholder="Hex Color" value={card.color} onChange={(e) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const newCards = [...homeCards]; newCards[index].color = e.target.value; setHomeCards(newCards);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }} className="w-full p-2 text-xs border rounded font-mono" />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea placeholder="Icon Base64" value={card.icon} onChange={(e) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const newCards = [...homeCards]; newCards[index].icon = e.target.value; setHomeCards(newCards);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }} className="w-full h-12 p-2 text-[10px] border rounded resize-none" />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex justify-center pt-4 gap-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <button onClick={() => setIsEditingHome(false)} className="px-8 py-3 bg-zinc-100 text-zinc-600 rounded-full font-bold">Cancel</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <button onClick={saveHomeContent} className="px-8 py-3 bg-zinc-900 text-white rounded-full font-bold shadow-lg">Save All Content</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const validImages = homeImages.filter(src => src && src.trim() !== '');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const hasImages = validImages.length > 0;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="animate-slide-up w-full mt-8 px-4 pb-20 overflow-visible">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* 3D SLIDER SECTION */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="w-full mb-16">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="max-w-2xl mx-auto text-center space-y-4 mb-8">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="inline-flex items-center justify-center p-3 bg-white rounded-full shadow-sm ring-1 ring-zinc-200 gap-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <SparklesIcon className="text-amber-500" size={20} />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="text-zinc-600 text-sm font-medium">Visitors:</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <SlidingCounter count={visitorCount} />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="relative w-full max-w-[320px] md:max-w-[360px] mx-auto h-[500px] bg-zinc-900 rounded-3xl overflow-hidden shadow-2xl ring-8 ring-white border border-zinc-200 flex items-center justify-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {hasImages ? (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="relative w-full h-full flex items-center justify-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {[virtualIndex - 1, virtualIndex, virtualIndex + 1, virtualIndex + 2].map((idx) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (idx < 0) return null;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const modIndex = idx % validImages.length;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let src = validImages[modIndex].trim();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!src.startsWith('data:')) src = `data:image/png;base64,${src}`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const distance = idx - virtualIndex;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let cardStyle = '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let zIndex = 0;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (distance === 0) { cardStyle = 'scale-100 opacity-100 translate-x-0 rotate-0 shadow-2xl'; zIndex = 30; }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  else if (distance === 1) { cardStyle = 'scale-95 opacity-80 translate-x-6 rotate-2 bg-black/50 blur-[1px]'; zIndex = 20; }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  else if (distance === 2) { cardStyle = 'scale-90 opacity-60 translate-x-12 rotate-4 bg-black/80 blur-[2px]'; zIndex = 10; }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  else if (distance === -1) { cardStyle = '-translate-x-[120%] rotate-[-10deg] opacity-0 scale-90'; zIndex = 40; }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  else return null;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div key={idx} className={`absolute top-0 left-0 w-full h-full flex items-center justify-center transition-all duration-700 ease-in-out ${cardStyle}`} style={{ zIndex }}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="relative w-full h-full rounded-2xl overflow-hidden bg-zinc-800 border-2 border-zinc-800">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img src={src} alt="" className="w-full h-full object-cover" />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="absolute inset-0 bg-black transition-opacity duration-700 pointer-events-none" style={{ opacity: distance > 0 ? 0.2 * distance : 0 }}></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  })}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ) : (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="text-zinc-400 text-xs">No slider images configured</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {hasImages && validImages.length > 1 && (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="absolute bottom-6 left-1/2 -translate-x-1/2 flex gap-2 z-50">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {validImages.map((_, i) => (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div key={i} className={`h-1.5 rounded-full transition-all duration-300 shadow-sm backdrop-blur-sm ${(virtualIndex % validImages.length) === i ? 'w-6 bg-white' : 'w-2 bg-white/30'}`}></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* CARDS SECTION (m1 - m4) */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="w-full max-w-6xl mx-auto">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 className="text-center text-zinc-400 text-sm font-bold uppercase tracking-widest mb-8">Explore More</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {homeCards.map((card, index) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Assign animation based on index
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let animClass = "";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (index === 0) animClass = "anim-bear";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  else if (index === 1) animClass = "anim-fox";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  else if (index === 2) animClass = "anim-bunny";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  else animClass = "anim-panda";

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div key={card.id} className="group relative bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-visible border border-zinc-100 flex flex-col h-56 cursor-pointer transform hover:-translate-y-2 z-10">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* THE TOY ELEMENT (Hidden until hover) */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className={`absolute -top-12 left-1/2 -translate-x-1/2 text-5xl pointer-events-none opacity-0 z-0 ${animClass}`}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {card.toy}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="relative z-10 h-full flex flex-col rounded-2xl overflow-hidden">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* Top Color Section */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className={`h-3/5 w-full flex items-center justify-center transition-colors duration-300 ${card.color.startsWith('#') || card.color.startsWith('rgb') ? '' : card.color}`} style={{ backgroundColor: (card.color.startsWith('#') || card.color.startsWith('rgb')) ? card.color : undefined }}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {card.icon ? (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <imgÂ 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  src={card.icon.startsWith('data:') ? card.icon : `data:image/png;base64,${card.icon}`}Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="w-16 h-16 object-contain drop-shadow-md brightness-0 invert transform group-hover:scale-110 transition-transform duration-300"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alt={card.title}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ) : (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <BackpackIcon className="text-white opacity-90 transform group-hover:rotate-12 transition-transform duration-300" size={48} />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* Bottom Text Section */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="h-2/5 w-full bg-white flex flex-col items-center justify-center p-4 text-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 className="text-lg font-bold text-zinc-800">{card.title}</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-sm text-indigo-600 font-medium mt-1 opacity-80 group-hover:opacity-100 group-hover:underline transition-all">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {card.subtitle}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  })}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex justify-center mt-12 mb-8">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onClick={() => requestAction('EDIT_HOME')} className="flex items-center gap-2 text-zinc-400 hover:text-zinc-900 text-xs font-semibold uppercase tracking-wider transition-colors px-4 py-2 rounded-full hover:bg-white/50 border border-transparent hover:border-zinc-200">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <SettingsIcon size={14} /> Manage Home Content
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  if (activeTab === 'ABOUT') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // NEW ABOUT LAYOUT
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="animate-slide-up flex flex-col md:flex-row gap-8 items-start justify-center mt-8 pb-12">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* LEFT COLUMN: PICTURE */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="w-full md:w-5/12 flex flex-col items-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {renderedImage ? (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="relative group w-full">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <imgÂ 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  src={renderedImage}Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alt="Profile"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="w-full h-auto rounded-3xl shadow-2xl ring-4 ring-white/50 object-cover cursor-pointer"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={() => requestAction('RESET_PROFILE')}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/20 rounded-3xl pointer-events-none">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg">Tap to Reset</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ) : (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="w-full aspect-[3/4] border-2 border-dashed border-zinc-300 rounded-3xl bg-white/50 flex flex-col items-center justify-center p-6 text-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <UserIcon size={48} className="text-zinc-300 mb-4"/>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-zinc-500 text-xs mb-4">No Profile Picture</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textareaÂ 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={base64Input}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setBase64Input(e.target.value)}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placeholder="Paste Base64..."
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="w-full h-24 p-2 text-[10px] rounded border mb-2 resize-none"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onClick={handleImageInput} disabled={!base64Input} className="bg-zinc-900 text-white text-xs px-4 py-2 rounded-full">Set Image</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* RIGHT COLUMN: NAME & BIO */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="w-full md:w-7/12 bg-white/60 backdrop-blur-xl p-8 rounded-3xl border border-white/50 shadow-xl flex flex-col h-full">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="mb-6">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 className="text-3xl md:text-4xl font-bold text-zinc-900 tracking-tight">Aphilak Kapangnoy</h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="h-1 w-20 bg-indigo-500 rounded-full mt-2"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex-1 relative">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {isEditingBio ? (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="animate-fade-in">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textareaÂ 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={bioText}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setBioText(e.target.value)}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="w-full h-64 p-4 rounded-xl border border-indigo-200 focus:ring-2 focus:ring-indigo-500 outline-none text-zinc-700 leading-relaxed resize-none bg-white/80"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placeholder="Enter your bio..."
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex gap-2 mt-4 justify-end">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onClick={() => setIsEditingBio(false)} className="text-zinc-500 text-sm px-4 py-2 hover:bg-zinc-100 rounded-full">Cancel</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onClick={saveBio} className="bg-indigo-600 text-white text-sm px-6 py-2 rounded-full shadow-lg hover:bg-indigo-700">Save Bio</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ) : (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="group relative">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="prose prose-zinc text-zinc-600 whitespace-pre-wrap leading-relaxed min-h-[10rem]">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {bioText}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <buttonÂ 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={() => requestAction('EDIT_BIO')}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="absolute top-0 right-0 opacity-0 group-hover:opacity-100 transition-opacity p-2 text-zinc-400 hover:text-indigo-600 bg-white/80 rounded-full shadow-sm"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  title="Edit Bio"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <EditIcon size={18} />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  if (activeTab === 'CONTACT') return <ContactCard />;
Â  Â  Â  Â  Â  Â  Â  Â  return null;
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  Â  Â  Â  <div className="min-h-screen w-full bg-slate-50 text-zinc-900 selection:bg-black selection:text-white overflow-hidden relative">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* Style Modal */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {showStyleSelector && (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md relative">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 className="text-2xl font-bold text-center mb-6">Choose Style</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {isProcessing ? (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="text-center">Processing...</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ) : (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="grid grid-cols-2 gap-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onClick={() => processImage('NORMAL')} className="p-4 border rounded-xl hover:bg-zinc-50 font-bold">Normal</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onClick={() => processImage('CUT')} className="p-4 border border-indigo-200 rounded-xl hover:bg-indigo-50 font-bold text-indigo-700">Auto Cut</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* Password Modal */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {showPasswordModal && (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className={`bg-white rounded-2xl shadow-2xl p-6 w-full max-w-sm ${passwordError ? 'animate-shake' : ''}`}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 className="text-lg font-bold mb-4 flex items-center gap-2"><LockIcon size={20} className="text-red-500"/> Security</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-sm text-zinc-500 mb-4">Enter password (1090) to continue.</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <form onSubmit={confirmPassword}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="password" autoFocus value={passwordInput} onChange={(e) => setPasswordInput(e.target.value)} className="w-full p-3 rounded-lg border bg-zinc-50 mb-4 text-center tracking-widest" />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="flex gap-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button type="button" onClick={() => setShowPasswordModal(false)} className="flex-1 py-2 text-zinc-600">Cancel</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button type="submit" className="flex-1 py-2 bg-red-500 text-white rounded-lg">Confirm</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </form>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="fixed top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="absolute top-[20%] right-[-10%] w-[500px] h-[500px] bg-slate-200/50 rounded-full mix-blend-multiply filter blur-3xl opacity-50" />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="absolute bottom-[-10%] left-[-10%] w-[600px] h-[600px] bg-zinc-200/50 rounded-full mix-blend-multiply filter blur-3xl opacity-50" />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="relative z-10 flex flex-col items-center w-full min-h-screen pb-12 overflow-y-auto no-scrollbar">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <HeaderSectionÂ 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  introPhase={introPhase}Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  activeTab={activeTab}Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onTabChange={setActiveTab}Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  headerImages={headerImages}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onRequestEdit={() => requestAction('EDIT_HEADER')}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <main className={`w-full max-w-6xl transition-opacity duration-1000 delay-200 px-4 ${introPhase !== 'start' ? 'opacity-100' : 'opacity-0 pointer-events-none'}`}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {renderContent()}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </main>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <footer className={`relative mt-auto py-8 text-center w-full text-zinc-400 text-xs transition-opacity duration-1000 delay-500 ${introPhase === 'finished' ? 'opacity-100' : 'opacity-0'}`}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â© {new Date().getFullYear()} Army Website. All rights reserved.
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </footer>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  };

Â  Â  Â  Â  const root = ReactDOM.createRoot(document.getElementById('root'));
Â  Â  Â  Â  root.render(<App />);
Â  Â  </script>
</body>
</html>
