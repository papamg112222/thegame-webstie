<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Army Website</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind Configuration -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
            },
            colors: {
              line: '#06C755', 
              lineHover: '#05b34c',
            },
            animation: {
              'fade-in': 'fadeIn 0.5s ease-out forwards',
              'slide-up': 'slideUp 0.8s ease-out forwards',
              'blob': 'blob 7s infinite',
              'shake': 'shake 0.5s cubic-bezier(.36,.07,.19,.97) both',
            },
            keyframes: {
              fadeIn: {
                '0%': { opacity: '0' },
                '100%': { opacity: '1' },
              },
              slideUp: {
                '0%': { transform: 'translateY(20px)', opacity: '0' },
                '100%': { transform: 'translateY(0)', opacity: '1' },
              },
              blob: {
                '0%': { transform: 'translate(0px, 0px) scale(1)' },
                '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
                '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
                '100%': { transform: 'translate(0px, 0px) scale(1)' },
              },
              shake: {
                '10%, 90%': { transform: 'translate3d(-1px, 0, 0)' },
                '20%, 80%': { transform: 'translate3d(2px, 0, 0)' },
                '30%, 50%, 70%': { transform: 'translate3d(-4px, 0, 0)' },
                '40%, 60%': { transform: 'translate3d(4px, 0, 0)' }
              }
            }
          },
        },
      }
    </script>
    
    <style>
      body {
        background-color: #f8fafc;
        color: #18181b;
      }
      ::-webkit-scrollbar { width: 8px; }
      ::-webkit-scrollbar-track { background: #f8fafc; }
      ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
      ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
  <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/",
    "lucide-react": "https://esm.sh/lucide-react@^0.561.0"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect } = React;

      // --- Icons (SVG Components) ---
      const HomeIcon = ({ size = 24, className = "" }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
      );
      const UserIcon = ({ size = 24, className = "" }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
      );
      const MailIcon = ({ size = 24, className = "" }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>
      );
      const SparklesIcon = ({ size = 24, className = "" }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275Z"/></svg>
      );
      const QrCodeIcon = ({ size = 24, className = "" }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="5" height="5" x="3" y="3" rx="1"/><rect width="5" height="5" x="16" y="3" rx="1"/><rect width="5" height="5" x="3" y="16" rx="1"/><path d="M21 16h-3a2 2 0 0 0-2 2v3"/><path d="M21 21v.01"/><path d="M12 7v3a2 2 0 0 1-2 2H7"/><path d="M3 12h.01"/><path d="M12 3h.01"/><path d="M12 16v.01"/><path d="M16 12h1"/><path d="M21 12v.01"/><path d="M12 21v-1"/></svg>
      );
      const ExternalLinkIcon = ({ size = 24, className = "" }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M15 3h6v6"/><path d="M10 14 21 3"/><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/></svg>
      );
      const LockIcon = ({ size = 24, className = "" }) => (
        <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
      );

      // --- Types ---
      const Tab = {
        HOME: 'HOME',
        ABOUT: 'ABOUT',
        CONTACT: 'CONTACT'
      };

      // --- Components ---

      const Navigation = ({ activeTab, onTabChange, isVisible }) => {
        const navItems = [
          { id: Tab.HOME, label: 'Home', icon: HomeIcon },
          { id: Tab.ABOUT, label: 'About', icon: UserIcon },
          { id: Tab.CONTACT, label: 'Contact', icon: MailIcon },
        ];

        return (
          <div 
            className={`transition-all duration-1000 ease-out transform ${
              isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10'
            } flex justify-center w-full mb-12`}
          >
            <div className="flex space-x-2 bg-white/70 backdrop-blur-xl border border-zinc-200 p-2 rounded-full shadow-xl shadow-zinc-200/50">
              {navItems.map((item) => {
                const Icon = item.icon;
                const isActive = activeTab === item.id;
                
                return (
                  <button
                    key={item.id}
                    onClick={() => onTabChange(item.id)}
                    className={`
                      relative px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 flex items-center gap-2
                      ${isActive 
                        ? 'bg-zinc-900 text-white shadow-lg scale-105' 
                        : 'text-zinc-500 hover:text-zinc-900 hover:bg-zinc-100'}
                    `}
                  >
                    <Icon size={16} />
                    <span>{item.label}</span>
                  </button>
                );
              })}
            </div>
          </div>
        );
      };

      const ContactCard = () => {
        const handleLineClick = () => {
          window.open('https://line.me/ti/p/~arm42.rst', '_blank');
        };

        return (
          <div className="w-full max-w-md mx-auto animate-slide-up">
            <div className="bg-white/80 border border-zinc-200 rounded-2xl p-8 backdrop-blur-lg shadow-2xl shadow-zinc-200/50">
              <h2 className="text-2xl font-bold text-zinc-900 mb-6 flex items-center gap-2">
                <span className="bg-zinc-100 p-2 rounded-lg text-zinc-900"><UserIcon size={20} /></span>
                Contact Information
              </h2>

              <div className="space-y-6">
                <div className="group">
                  <label className="text-xs font-bold text-zinc-400 uppercase tracking-wider mb-1 block">Name</label>
                  <div className="text-lg text-zinc-800 font-semibold group-hover:text-zinc-950 transition-colors">
                    T.Aphilak Kapangnoy
                  </div>
                </div>

                <div className="group">
                  <label className="text-xs font-bold text-zinc-400 uppercase tracking-wider mb-1 block">Email</label>
                  <a 
                    href="mailto:arm.rst2542@gmail.com" 
                    className="flex items-center gap-2 text-lg text-zinc-700 font-medium hover:text-blue-600 transition-colors"
                  >
                    <MailIcon size={18} />
                    arm.rst2542@gmail.com
                  </a>
                </div>

                <div className="h-px bg-zinc-100 my-6"></div>

                <div className="space-y-3">
                   <label className="text-xs font-bold text-zinc-400 uppercase tracking-wider block">
                     Instant Messaging
                   </label>
                   <div className="bg-slate-50 rounded-xl p-4 border border-zinc-100 flex flex-col items-center text-center space-y-4">
                      <div className="bg-white p-2 rounded-lg border border-zinc-100 shadow-sm">
                         <QrCodeIcon size={64} className="text-zinc-900" />
                      </div>
                      <div className="space-y-1">
                          <p className="text-zinc-600 text-sm">Line ID: <span className="text-zinc-900 font-mono font-bold">arm42.rst</span></p>
                          <p className="text-xs text-zinc-400">Scan QR or click below to chat</p>
                      </div>
                      
                      <button 
                        onClick={handleLineClick}
                        className="w-full bg-[#06C755] hover:bg-[#05b34c] text-white font-bold py-3 px-4 rounded-xl transition-all duration-300 shadow-lg shadow-green-500/20 flex items-center justify-center gap-2 group"
                      >
                        <span>Chat on Line</span>
                        <ExternalLinkIcon size={16} className="group-hover:translate-x-1 transition-transform" />
                      </button>
                   </div>
                </div>
              </div>
            </div>
          </div>
        );
      };

      const App = () => {
        const [introPhase, setIntroPhase] = useState('start');
        const [activeTab, setActiveTab] = useState(Tab.HOME);

        // About / Image State
        const [base64Input, setBase64Input] = useState('');
        const [renderedImage, setRenderedImage] = useState(null);
        const [showReset, setShowReset] = useState(false);

        // Password Modal State
        const [showPasswordModal, setShowPasswordModal] = useState(false);
        const [passwordInput, setPasswordInput] = useState('');
        const [passwordError, setPasswordError] = useState(false);

        // Load saved image on startup
        useEffect(() => {
          const savedImage = localStorage.getItem('army_profile_pic');
          if (savedImage) {
            setRenderedImage(savedImage);
          }
        }, []);

        useEffect(() => {
          const timer1 = setTimeout(() => setIntroPhase('transition'), 100); 
          const timer2 = setTimeout(() => setIntroPhase('finished'), 2100);
          return () => {
            clearTimeout(timer1);
            clearTimeout(timer2);
          };
        }, []);

        const handleImageRender = () => {
          if (!base64Input.trim()) return;

          let finalSrc = base64Input.trim();
          if (!finalSrc.startsWith('data:')) {
            finalSrc = `data:image/png;base64,${finalSrc}`;
          }
          
          setRenderedImage(finalSrc);
          localStorage.setItem('army_profile_pic', finalSrc);
          setShowReset(false);
          setBase64Input(''); 
        };

        const handleResetRequest = () => {
          setShowPasswordModal(true);
        };

        const confirmReset = (e) => {
          e.preventDefault();
          if (passwordInput === '1090') {
            setRenderedImage(null);
            localStorage.removeItem('army_profile_pic');
            setShowReset(false);
            setShowPasswordModal(false);
            setPasswordInput('');
            setPasswordError(false);
          } else {
            setPasswordError(true);
            setTimeout(() => setPasswordError(false), 500); // Remove shake animation class reset
          }
        };

        const closePasswordModal = () => {
          setShowPasswordModal(false);
          setPasswordInput('');
          setPasswordError(false);
        };

        const handleTabChange = (tab) => {
          setActiveTab(tab);
          setShowReset(false);
        };

        const renderContent = () => {
          switch (activeTab) {
            case Tab.HOME:
              return (
                <div className="animate-slide-up max-w-2xl mx-auto text-center space-y-6">
                  <div className="inline-flex items-center justify-center p-3 bg-white rounded-full mb-4 shadow-sm ring-1 ring-zinc-200">
                    <SparklesIcon className="text-amber-500 mr-2" size={20} />
                    <span className="text-zinc-600 text-sm font-medium">Welcome to my professional portfolio</span>
                  </div>
                  <p className="text-zinc-600 text-lg leading-relaxed font-light">
                    Experience a modern, minimalistic approach to digital presence. 
                    Navigate through the sections to learn more about my work and how to connect.
                  </p>
                </div>
              );
            case Tab.ABOUT:
              if (renderedImage) {
                return (
                  <div className="animate-slide-up flex flex-col items-center min-h-[50vh] justify-center">
                     <img
                        src={renderedImage}
                        alt="Rendered Content"
                        className="max-w-full max-h-[60vh] rounded-xl shadow-2xl cursor-pointer hover:scale-[1.01] transition-transform duration-300 ring-4 ring-white/50"
                        onClick={() => setShowReset(true)}
                     />
                     <p className="mt-4 text-xs text-zinc-400">Tap image to show reset option</p>
                  </div>
                );
              }
              return (
                <div className="animate-slide-up max-w-2xl mx-auto text-center py-12 px-8 border-2 border-dashed border-zinc-300 rounded-3xl bg-white/50 backdrop-blur-sm">
                  <h3 className="text-xl font-bold text-zinc-800 mb-4">Insert Base64</h3>
                  <p className="text-zinc-500 text-sm mb-6">Paste your image data below to render it securely.</p>
                  
                  <textarea
                      value={base64Input}
                      onChange={(e) => setBase64Input(e.target.value)}
                      placeholder="Paste base64 string here..."
                      className="w-full h-40 p-4 rounded-xl border border-zinc-200 bg-white focus:ring-2 focus:ring-zinc-400 focus:border-transparent outline-none resize-none text-xs font-mono text-zinc-600 mb-6 shadow-inner"
                  />
                  
                  <button 
                      onClick={handleImageRender}
                      disabled={!base64Input}
                      className="px-8 py-3 bg-zinc-900 text-white rounded-full font-semibold hover:bg-zinc-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl active:scale-95"
                  >
                      Render Image
                  </button>
                </div>
              );
            case Tab.CONTACT:
              return <ContactCard />;
            default:
              return null;
          }
        };

        const getTitleClasses = () => {
          if (introPhase === 'start') {
            return "text-5xl md:text-7xl lg:text-8xl tracking-tighter translate-y-[40vh]";
          }
          return "text-3xl md:text-5xl tracking-tight translate-y-0";
        };

        return (
          <div className="min-h-screen w-full bg-slate-50 text-zinc-900 selection:bg-black selection:text-white overflow-hidden relative">
            
            {/* Password Modal */}
            {showPasswordModal && (
              <div className="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in">
                <div className={`bg-white rounded-2xl shadow-2xl p-6 w-full max-w-sm ${passwordError ? 'animate-shake' : ''}`}>
                  <h3 className="text-lg font-bold text-zinc-900 mb-4 flex items-center gap-2">
                    <LockIcon size={20} className="text-red-500"/>
                    Security Verification
                  </h3>
                  <p className="text-sm text-zinc-500 mb-4">Enter passcode to delete this image.</p>
                  
                  <form onSubmit={confirmReset}>
                    <input
                      type="password"
                      autoFocus
                      placeholder="Enter Password"
                      value={passwordInput}
                      onChange={(e) => setPasswordInput(e.target.value)}
                      className="w-full p-3 rounded-lg border border-zinc-200 bg-zinc-50 focus:ring-2 focus:ring-zinc-900 outline-none mb-4 text-center font-mono tracking-widest"
                    />
                    <div className="flex gap-2">
                      <button 
                        type="button" 
                        onClick={closePasswordModal}
                        className="flex-1 py-2 text-zinc-600 font-medium hover:bg-zinc-100 rounded-lg transition-colors"
                      >
                        Cancel
                      </button>
                      <button 
                        type="submit"
                        className="flex-1 py-2 bg-red-500 hover:bg-red-600 text-white font-medium rounded-lg transition-colors shadow-md"
                      >
                        Confirm
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            )}

            {/* Reset Button */}
            {showReset && activeTab === Tab.ABOUT && renderedImage && !showPasswordModal && (
              <button
                onClick={handleResetRequest}
                className="fixed top-6 right-6 z-50 bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-full font-bold shadow-lg transition-all animate-fade-in hover:shadow-red-500/30 active:scale-95"
              >
                Reset
              </button>
            )}

            {/* Background */}
            <div className="fixed top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0">
              <div className="absolute top-0 left-1/4 w-96 h-96 bg-rose-200 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob" />
              <div className="absolute top-0 right-1/4 w-96 h-96 bg-indigo-200 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob animation-delay-2000" />
              <div className="absolute -bottom-32 left-1/3 w-96 h-96 bg-sky-200 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob animation-delay-4000" />
            </div>

            <div className="relative z-10 flex flex-col items-center w-full min-h-screen p-6">
              <header 
                className={`
                  transition-all duration-[2000ms] cubic-bezier(0.16, 1, 0.3, 1) flex flex-col items-center justify-center text-center
                  ${introPhase === 'start' ? 'h-screen' : 'h-auto mt-16 mb-8'}
                `}
              >
                <h1 
                  className={`
                    font-bold text-zinc-900
                    transition-all duration-[2000ms] cubic-bezier(0.16, 1, 0.3, 1)
                    ${getTitleClasses()}
                  `}
                >
                  Welcome, to Army Website
                </h1>
              </header>

              <main className={`
                w-full max-w-4xl transition-opacity duration-1000 delay-200
                ${introPhase !== 'start' ? 'opacity-100' : 'opacity-0 pointer-events-none'}
              `}>
                <Navigation 
                  activeTab={activeTab} 
                  onTabChange={handleTabChange} 
                  isVisible={introPhase !== 'start'}
                />

                <div className="mt-8 px-4 pb-20">
                  {renderContent()}
                </div>
              </main>

              <footer className={`
                 fixed bottom-4 text-center w-full text-zinc-400 text-xs transition-opacity duration-1000 delay-500
                 ${introPhase === 'finished' ? 'opacity-100' : 'opacity-0'}
              `}>
                Â© {new Date().getFullYear()} Army Website. All rights reserved.
              </footer>
            </div>
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);
    </script>
  </body>
</html>
